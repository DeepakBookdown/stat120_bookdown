% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{book}
\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
\usepackage{booktabs}
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\usepackage[]{natbib}
\bibliographystyle{apalike}
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={Stat 120},
  pdfauthor={Deepak Bastola},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\title{Stat 120}
\author{Deepak Bastola}
\date{2023-01-01}

\begin{document}
\maketitle

{
\setcounter{tocdepth}{1}
\tableofcontents
}
\hypertarget{about}{%
\chapter*{About}\label{about}}
\addcontentsline{toc}{chapter}{About}

This is a \emph{sample} book written in \textbf{Markdown}.

Answer

\hypertarget{class-activity-1}{%
\chapter{Class Activity 1}\label{class-activity-1}}

\hypertarget{your-turn-1}{%
\section{Your Turn 1}\label{your-turn-1}}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Run the following chunk. Comment on the output.
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{example\_data }\OtherTok{=} \FunctionTok{data.frame}\NormalTok{(}\AttributeTok{ID =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{, }\DecValTok{6}\NormalTok{, }\DecValTok{7}\NormalTok{, }\DecValTok{8}\NormalTok{, }\DecValTok{9}\NormalTok{, }\DecValTok{10}\NormalTok{),}
                          \AttributeTok{Greeting =} \FunctionTok{c}\NormalTok{(}\FunctionTok{rep}\NormalTok{(}\StringTok{"Hello"}\NormalTok{, }\DecValTok{5}\NormalTok{), }\FunctionTok{rep}\NormalTok{(}\StringTok{"Goodbye"}\NormalTok{,}\DecValTok{5}\NormalTok{)),}
                          \AttributeTok{Male =} \FunctionTok{rep}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\ConstantTok{TRUE}\NormalTok{, }\ConstantTok{FALSE}\NormalTok{), }\DecValTok{5}\NormalTok{),}
                          \AttributeTok{age =} \FunctionTok{runif}\NormalTok{(}\AttributeTok{n=}\DecValTok{10}\NormalTok{, }\DecValTok{20}\NormalTok{,}\DecValTok{60}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{example\_data}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
   ID Greeting  Male      age
1   1    Hello  TRUE 53.54163
2   2    Hello FALSE 46.39761
3   3    Hello  TRUE 51.01129
4   4    Hello FALSE 56.21607
5   5    Hello  TRUE 57.10219
6   6  Goodbye FALSE 34.82988
7   7  Goodbye  TRUE 39.15996
8   8  Goodbye FALSE 45.09101
9   9  Goodbye  TRUE 38.00030
10 10  Goodbye FALSE 39.53141
\end{verbatim}

\emph{Answer:} We see a data frame with four columns, where the first column is an \texttt{identifier} for the cases. We have information on the greeting types, gender, and age on these cases in the remaining columns.

\vspace*{1in}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  What is the dimension of the dataset called `example\_data'?
\end{enumerate}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{dim}\NormalTok{(example\_data)}
\NormalTok{[}\DecValTok{1}\NormalTok{] }\DecValTok{10}  \DecValTok{4}
\FunctionTok{nrow}\NormalTok{(example\_data)}
\NormalTok{[}\DecValTok{1}\NormalTok{] }\DecValTok{10}
\FunctionTok{ncol}\NormalTok{(example\_data)}
\NormalTok{[}\DecValTok{1}\NormalTok{] }\DecValTok{4}
\end{Highlighting}
\end{Shaded}

\emph{Answer:} There are 10 rows and 4 columns.

\vspace*{1in}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{your-turn-2}{%
\section{Your Turn 2}\label{your-turn-2}}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Read the dataset \texttt{EducationLiteracy} from the \href{https://www.lock5stat.com/datapage2e.html}{Lock5} second edition book.
\end{enumerate}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# read in the data}
\NormalTok{education\_lock5 }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"https://www.lock5stat.com/datasets2e/EducationLiteracy.csv"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\vspace*{1in}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Print the header (i.e.~first 6 cases by default) of the dataset in part a.
\end{enumerate}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{head}\NormalTok{(education\_lock5)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
              Country EducationExpenditure Literacy
1         Afghanistan                  3.1     31.7
2             Albania                  3.2     96.8
3             Algeria                  4.3       NA
4             Andorra                  3.2       NA
5              Angola                  3.5     70.6
6 Antigua and Barbuda                  2.6     99.0
\end{verbatim}

\vspace*{1in}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  What is the dimension of the dataset in a?
\end{enumerate}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{dim}\NormalTok{(education\_lock5)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 188   3
\end{verbatim}

\emph{Answer:} There are 188 rows and 3 columns.

\vspace*{1in}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  What type of variables are \texttt{Country}, \texttt{EducationExpenditure}, and \texttt{Literacy}?
\end{enumerate}

Click for answer

\emph{Answer:} \texttt{Country} is a categorical variable. \texttt{EducationExpenditure} and \texttt{Literacy} are both quantitative variables.

\vspace*{1in}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{4}
\tightlist
\item
  If we would like to use education expenditure to predict the literacy rate of each countries, which variable is the explanatory variable and which one is the response?
\end{enumerate}

Click for answer

\emph{Answer:} The education expenditure is the explanatory variable, and the literacy rate is the response.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{class-activity-2}{%
\chapter{Class Activity 2}\label{class-activity-2}}

\hypertarget{your-turn-1-1}{%
\section{Your Turn 1}\label{your-turn-1-1}}

This exercise is about finding the average word length in Lincoln's Gettysburg's address.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{your-turn-2-1}{%
\section{Your Turn 2}\label{your-turn-2-1}}

\hypertarget{summary-of-article-on-it-depends-on-how-you-ask}{%
\subsection{\texorpdfstring{Summary of article on \href{https://jech.bmj.com/content/75/4/387.abstract}{It depends on how you ask!}}{Summary of article on It depends on how you ask!}}\label{summary-of-article-on-it-depends-on-how-you-ask}}

Click for answer

\emph{Answer:}

This study aimed to measure the effects of psychological biases on estimates of compliance with public health guidance regarding COVID-19. Results showed that compliance estimates were reduced when questions were framed negatively and anonymity was increased. Effect sizes were large, with compliance estimates diminishing by up to 17\% points and 10\% points, respectively. These findings suggest that standard tracking surveys pose questions in ways that lead to higher compliance estimates than alternative approaches.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{your-turn-3}{%
\section{Your Turn 3}\label{your-turn-3}}

\hypertarget{gettysburg-random-sample}{%
\subsection{Gettysburg random sample}\label{gettysburg-random-sample}}

Let's take a simple random sample (SRS) of Gettysburg words. The ``population'' is contained in the
spreadsheet \texttt{GettysburgPopulationCounts.csv}. Carefully load this data into R:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pop }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"https://raw.githubusercontent.com/deepbas/statdatasets/main/GettysbergPopulationCounts.csv"}\NormalTok{)}
\FunctionTok{head}\NormalTok{(pop)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
  position size  word
1        1    4  Four
2        2    5 score
3        3    3   and
4        4    5 seven
5        5    5 years
6        6    3  ago,
\end{verbatim}

The \texttt{position} variable enumerates the list of words in the population (address).

(a). Sample

Run the following command to obtain a SRS of 10 words from the 268 that are in the population:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{samp }\OtherTok{\textless{}{-}} \FunctionTok{sample}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\DecValTok{268}\NormalTok{, }\AttributeTok{size=}\DecValTok{10}\NormalTok{)}
\NormalTok{samp}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
 [1] 127  64  83 154  87 210  99 219  29 268
\end{verbatim}

This tells you the position (row number) of your sampled words. What are your sampled positions? Why are your sampled positions different from other folks in class?

\vspace*{1in}

(b). Get words and lengths

We will \emph{subset} the data set \texttt{pop} to obtain only the sampled rows listed in \texttt{samp}. We do this using \textbf{square bracket notation} `dataset{[}row number, column number/name{]}. Run the following command to find your sampled words and sizes:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pop[samp,]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
    position size      word
127      127    4      here
64        64    3      war.
83        83    4      here
154      154    3       can
87        87    4      that
210      210    9 increased
99        99    2        we
219      219    3       the
29        29    7   created
268      268    5    earth.
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  Compute your sample mean
\end{enumerate}

The word lengths in part (b) are the data for your sample. You can compute your sample mean using a calculator, or using R. Let's try R (you will find it faster!). First save the quantitative variable \texttt{size} in a new variable called \texttt{mysize}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mysize }\OtherTok{\textless{}{-}}\NormalTok{ pop[samp, }\StringTok{"size"}\NormalTok{]}
\NormalTok{mysize}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
 [1] 4 3 4 3 4 9 2 3 7 5
\end{verbatim}

Then find the mean of these values:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{mean}\NormalTok{(mysize)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 4.4
\end{verbatim}

How does this sample mean (from a truly random sample) compare to your sample mean from the non-random sample?

Click for answer

\emph{Answer:} The true mean is 4.29. Your two means will likely vary. Since the many non-random samples generally overestimated the population mean length, it is possible (but not guaranteed) that \emph{your} one non-random sample gave a mean length that is greater than the random sample's mean length.

\vspace*{1in}

\hypertarget{driving-with-a-pet-on-your-lap}{%
\subsection{Driving with a Pet on your Lap}\label{driving-with-a-pet-on-your-lap}}

Over 30,000 people participated in an online poll on \texttt{cnn.com} conducted in April 2012 asking: ``Have you ever driven with a pet on your lap''? We see that 34\% of the participants answered yes and 66\% answered no.

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Can you conclude that a random sample was used from the description given? Explain.
\end{enumerate}

Click for answer

\emph{Answer:} No you can't make this conclusion from the info given. In fact, an online poll at a website like \texttt{cnn.com} is almost always reporting results from a non-random sample. The people who respond are individuals who visit \texttt{cnn.com}, then see the online poll and decide to respond.

\vspace*{1.5in}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Explain why it is not appropriate to generalize these results to all drivers, or even to all drivers who visit cnn.com.
\end{enumerate}

Click for answer

\emph{Answer:} This is a volunteer sample, and volunteer samples are often biased and can't be generalized to \emph{all drivers} (the population). It is likely that people who have driven with a pet on their lap are more likely to respond to the poll.

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  How might we select a sample of people that would give us results that we can generalize to a broader population?
\end{enumerate}

Click for answer

\emph{Answer:} A random sample of individuals from all U.S. drivers would need to be selected and given the poll question. (There are many ways to do this, the most common being a variation of random digit dialing where phone numbers are randomly selected from known area codes.)

\vspace*{1in}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  Is the variable measured in this study quantitative or categorical?
\end{enumerate}

Click for answer

\emph{Answer:} Categorical (yes or no answer to the question).

\hypertarget{class-activity-3}{%
\chapter{Class Activity 3}\label{class-activity-3}}

\hypertarget{case-study-1}{%
\section{Case Study 1}\label{case-study-1}}

Consider the following case study:

``Swimming with dolphins can certainly be fun, but is it also therapeutic for patients suffering from clinical depression? To investigate this possibility, researchers recruited 30 subjects aged 18-65 with a clinical diagnosis of mild to moderate depression. Subjects were required to discontinue use of any antidepressant drugs or psychotherapy four weeks prior to the experiment, and throughout the experiment. These 30 subjects went to an island off the coast of Honduras, where they were randomly assigned to one of two treatment groups. Both groups engaged in the same amount of swimming and snorkeling each day, but one group (the animal care program) did so in the presence of bottlenose dolphins and the other group (outdoor nature program) did not. At the end of two weeks, each subjects' level of depression was evaluated, as it had been at the beginning of the study, and it was determined whether they showed substantial improvement (reducing their level of depression) by the end of the study (Antonioli and Reveley, 2005).''

Observed data:

The researchers found that 10 of 15 subjects in the dolphin therapy group showed substantial improvement, compared to 3 of 15 subjects in the control group.

(a). Identify the observational units in this study.

\emph{Answer:} The observational units in this study are the 30 subjects.

(b). Classify each variable as categorical or quantitative.

\emph{Answer:} The variables in this study can be classified as follows:
Categorical: Treatment Group (Dolphin and Control)
Quantitative: Age, Level of Depression (Beginning and End of Study)

(c). Which variable would you regard as explanatory and which as response?

\emph{Answer:} The explanatory variable would be the Treatment Group and the response variable would be the Level of Depression.

(d). Is this an observational study or an experiment? Justify your answer.

\emph{Answer:} This is an experiment because the researchers randomly assigned the subjects to the two treatment groups, and then observed the effect of the treatment (presence of dolphins) on the response variable (level of depression).

(e). Construct a two-way table based on the results of the experiment.

Two-way table:

\begin{longtable}[]{@{}llll@{}}
\toprule()
Dolphin Therapy & Improved & Not Improved & Total \\
\midrule()
\endhead
Group & 10 & 5 & 15 \\
Control Group & 3 & 12 & 15 \\
Total & 13 & 17 & 30 \\
\bottomrule()
\end{longtable}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{case-study-2}{%
\section{Case Study 2}\label{case-study-2}}

Consider the following case study:

``Researchers want to find out how a new diet affects weight gain among underweight subjects. This experiment only has two treatment conditions, the new diet and the standard diet, hence the matched pairs design can be used. For this study, the researchers recruited 200 subjects which will be grouped into 100 pairs based on shared characteristics such as age, gender, weight, height, lifestyle, and so on. A 20-year-old female within the weight range of 90-110 pounds and the height range of 60-63 inches will be paired with another 20-year-old female that falls into the same weight and height categories. Once all 100 pairs are made, a subject from each pair will be randomly assigned into the treatment group (will be administered the new diet for 2 months) while the other subject from the pair will be assigned to the control group (will be assigned to follow the standard diet for two months). At the end of the time time period of 2 months, researchers will measure the total weight gain for each subject.''

Observed data:

The researchers found that 60 of 100 subjects in the new diet group showed substantial improvement, compared to 43 of 100 subjects in the standard diet group.

(a). Identify the observational units in this study.

\emph{Answer:} The observational units in this study are the 200 subjects.

(b). Classify each variable as categorical or quantitative.

\emph{Answer:} The variables are: age (quantitative), gender (categorical), weight (quantitative), height (quantitative), lifestyle (categorical), and total weight gain (quantitative).

(c). Which variable would you regard as explanatory and which as response?

\emph{Answer:} The explanatory variable is the type of diet (new or standard) and the response variable is the total weight gain.

(d). Is this an observational study or an experiment? Justify your answer.

\emph{Answer:} This is an experiment because the researchers are manipulating the explanatory variables (type of diet) to observe the effects on the response variables (total weight gain).

(e). If it is an experiment, is it randomized comparative experiment or a matched pairs experiment?

\emph{Answer:} This is a matched pairs experiment because each subject is paired with another subject who has similar characteristics and one subject from each pair is randomly assigned to the treatment group and the other to the control group.

(f). Construct a two-way table based on the results of the experiment.

Two-way table:

\begin{longtable}[]{@{}lll@{}}
\toprule()
New Diet & Standard Diet & Total \\
\midrule()
\endhead
Improvement & 60 & 43 \\
No Improvement & 40 & 57 \\
Total & 100 & 100 \\
\bottomrule()
\end{longtable}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{non-maize-users-installing-ggplot2}{%
\section{\texorpdfstring{(Non-Maize users) installing \texttt{ggplot2}}{(Non-Maize users) installing ggplot2}}\label{non-maize-users-installing-ggplot2}}

If you are using Rstudio on your \textbf{own computer}, you will first need to \textbf{install} the package but if you are using the Maize (online) Rstudio (or a lab computer) you do not. If you need to install the package:

\begin{itemize}
\tightlist
\item
  Click the \textbf{Packages} tab on the lower right Rstudio pane.
\item
  Click \textbf{Install} and type \texttt{ggplot2} into the \textbf{Packages} box.
\item
  Click the \textbf{Install} button. You should now see \texttt{ggplot2} in the list of packages.
\item
  You only need to install the package once. After than, you run the \texttt{library} command to load the package functions into your current R session.
\end{itemize}

An alternate way way to install \texttt{ggplot2} from the R console is by using the following command:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"ggplot2"}\NormalTok{, }\AttributeTok{dependencies =} \ConstantTok{TRUE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{class-activity-4}{%
\chapter{Class Activity 4}\label{class-activity-4}}

\hypertarget{your-turn-1-2}{%
\section{Your Turn 1}\label{your-turn-1-2}}

\hypertarget{flowers-v.-mississippi}{%
\subsection{Flowers v. Mississippi}\label{flowers-v.-mississippi}}

The data set \texttt{APM\_DougEvensCases.csv} contains data from 1517 potential black and white jurors for 66 cases that Doug Evans was primary prosecutor for between 1992 and 2017. These jurors were available for Doug Evans to strike using his ``peremptory strikes'' during the jury selection phase.

(a). Inspect data

Read in the data

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{jurors }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"https://raw.githubusercontent.com/deepbas/statdatasets/main/APM\_DougEvansCases.csv"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# dimension of dataset}
\FunctionTok{dim}\NormalTok{(jurors)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 1517    6
\end{verbatim}

Look at the first \textbf{three rows} of the data set

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{jurors[}\FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{), ]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
  trial__id  race        struck_state defendant_race
1         4 Black Not struck by State          White
2         4 Black     Struck by State          White
3         4 White Not struck by State          White
       same_race                     struck_by
1 different race Juror chosen to serve on jury
2 different race           Struck by the state
3      same race Juror chosen to serve on jury
\end{verbatim}

To get the data from one variable, we use the command \texttt{dataset\$variable}. For example, \texttt{jurors\$struck\_state} gives us the data values from the \texttt{struck\_state} variable, which tells us if a juror was struck by the state from the jury pool. Here we can see the first 10 entries in this variable:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{jurors}\SpecialCharTok{$}\NormalTok{struck\_state[}\DecValTok{1}\SpecialCharTok{:}\DecValTok{10}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
 [1] "Not struck by State" "Struck by State"    
 [3] "Not struck by State" "Not struck by State"
 [5] "Struck by State"     "Not struck by State"
 [7] "Struck by State"     "Not struck by State"
 [9] "Not struck by State" "Not struck by State"
\end{verbatim}

(b). Table of counts and proportions

The \texttt{summary} command used with a data frame gives summaries of each variable

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{summary}\NormalTok{(jurors)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
   trial__id         race           struck_state      
 Min.   :  4.0   Length:1517        Length:1517       
 1st Qu.: 52.0   Class :character   Class :character  
 Median : 82.0   Mode  :character   Mode  :character  
 Mean   :112.6                                        
 3rd Qu.:170.0                                        
 Max.   :301.0                                        
 defendant_race      same_race          struck_by        
 Length:1517        Length:1517        Length:1517       
 Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character  
                                                         
                                                         
                                                         
\end{verbatim}

The \texttt{table} command gives the distribution of counts for a single categorical variable. To obtain the count table for \texttt{struck\_state} you need to

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{counts }\OtherTok{\textless{}{-}} \FunctionTok{table}\NormalTok{(jurors}\SpecialCharTok{$}\NormalTok{struck\_state)}
\NormalTok{counts}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

Not struck by State     Struck by State 
               1084                 433 
\end{verbatim}

We can add the \texttt{prop.table} command to turn these counts into proportions:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(counts)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

Not struck by State     Struck by State 
          0.7145682           0.2854318 
\end{verbatim}

\begin{itemize}
\tightlist
\item
  What proportion of eligible jurors were struck by the state from the jury pool?
\end{itemize}

Click for answer

\emph{Answer:} about 28.5\% of eligible jurors were struck by the state.

(c). Bar graph for one variable

You can create a simple bar graph for one categorical variable with the \texttt{barplot} command. Here we visualize the distribution of struck status for all eligible jurors:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{barplot}\NormalTok{(counts, }\AttributeTok{ylab =} \StringTok{"count"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_4_files/figure-latex/unnamed-chunk-8-1}

(d). Two-way tables

First 10 entries of \texttt{race} and \texttt{struck\_state} variable is

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{jurors[(}\DecValTok{1}\SpecialCharTok{:}\DecValTok{10}\NormalTok{),(}\DecValTok{2}\SpecialCharTok{:}\DecValTok{3}\NormalTok{)]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
    race        struck_state
1  Black Not struck by State
2  Black     Struck by State
3  White Not struck by State
4  White Not struck by State
5  Black     Struck by State
6  White Not struck by State
7  Black     Struck by State
8  White Not struck by State
9  White Not struck by State
10 White Not struck by State
\end{verbatim}

The \texttt{table} command also gives two-way tables when two variables are included. Here is the two-way table for juror race and state struck status:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mytable }\OtherTok{\textless{}{-}} \FunctionTok{table}\NormalTok{(jurors}\SpecialCharTok{$}\NormalTok{race, jurors}\SpecialCharTok{$}\NormalTok{struck\_state)}
\NormalTok{mytable}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
       
        Not struck by State Struck by State
  Black                 225             310
  White                 859             123
\end{verbatim}

\begin{itemize}
\tightlist
\item
  How many jurors were white and were not struck by the state?
\end{itemize}

Click for answer

\emph{answer:} 859

(e). Conditional proportions: state strike status by juror race

The \texttt{prop.table} command gives conditional proportions for a two-way table. We plug our two-way table into \texttt{prop.table} with a \texttt{margin=1} to get proportions grouped by the \textbf{row} variable:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(mytable, }\AttributeTok{margin =} \DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
       
        Not struck by State Struck by State
  Black           0.4205607       0.5794393
  White           0.8747454       0.1252546
\end{verbatim}

Of all eligible black jurors, about 57.9\% were struck by the state.

\begin{itemize}
\tightlist
\item
  What proportion of eligible white jurors were struck by the state?

  Click for answer

  \emph{answer:} about 12.5\%
\item
  Is there evidence of an association between juror race and state strikes?
\end{itemize}

Click for answer

\emph{answer:} Yes, there is an association because the rate of state strikes varies greatly by juror race with
about 60\% of black jurors were struck compared to only 13\% of white jurors

(f). Stacked bar graph for two variables

We can visualize the conditional distribution from part (e) with a stacked bar graph created using the \texttt{ggplot2} graphing package. First, load this package's functions with the \texttt{library} command:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(ggplot2)}
\end{Highlighting}
\end{Shaded}

Now we can use the \texttt{geom\_bar} command in this package. Here we get the conditional distribution of \texttt{struck\_state} given \texttt{race}:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(jurors, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ race, }\AttributeTok{fill =}\NormalTok{ struck\_state)) }\SpecialCharTok{+} 
  \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{position =} \StringTok{"fill"}\NormalTok{) }\SpecialCharTok{+} 
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{title =} \StringTok{"State strikes by juror race"}\NormalTok{, }\AttributeTok{y =} \StringTok{"proportion"}\NormalTok{, }
       \AttributeTok{x =} \StringTok{"eligible juror race"}\NormalTok{, }\AttributeTok{fill =} \StringTok{"struck by state?"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_4_files/figure-latex/unnamed-chunk-13-1}

The basic syntax for this function is to let \texttt{ggplot} know your data set name (\texttt{jurors}), then specify the grouping or conditional variable on the x-axis (\texttt{race}) in the \texttt{aes} (aesthetic) argument. The \texttt{fill} variable is the response variable (\texttt{struck\_state}). We add (\texttt{+}) the \texttt{geom\_bar} geometry to get a bar graph with the \texttt{fill} position specified. Adding an informative label and title complete the graph.

(g). Conditional distribution of race grouped by strike status

We can ``flip'' our response and grouping variables easily (if we think it makes sense to do so). Here we specify the \texttt{margin=2} to get proportions grouped by the \textbf{column} variable:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(mytable, }\AttributeTok{margin =} \DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
       
        Not struck by State Struck by State
  Black           0.2075646       0.7159353
  White           0.7924354       0.2840647
\end{verbatim}

Notice that the proportions add to one \textbf{down} each column. Of all eligible jurors struck by the state, about 71.6\% were black.

The stacked bar graph for this distribution is

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(jurors, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ struck\_state, }\AttributeTok{fill =}\NormalTok{ race)) }\SpecialCharTok{+} 
  \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{position =} \StringTok{"fill"}\NormalTok{) }\SpecialCharTok{+} 
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{title =} \StringTok{"Juror race by state strikes"}\NormalTok{, }\AttributeTok{y =} \StringTok{"proportion"}\NormalTok{, }
       \AttributeTok{fill =} \StringTok{"eligible juror race"}\NormalTok{, }\AttributeTok{x =} \StringTok{"struck by state?"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_4_files/figure-latex/unnamed-chunk-15-1}

\begin{itemize}
\tightlist
\item
  What proportion of eligible jurors who were not struck by the state were black? were white?
\end{itemize}

Click for answer

\emph{Answer:} Of all jurors not struck by the state, about 20.8\% were black

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{your-turn-2-2}{%
\section{Your Turn 2}\label{your-turn-2-2}}

\hypertarget{graduate-programs-acceptance-and-sex}{%
\subsection{Graduate programs acceptance and sex}\label{graduate-programs-acceptance-and-sex}}

How are grad school program acceptance rates associated with sex? We will look at a classic data set from Berkeley grad school applications from 1973 (\emph{Science}, 1975). The data cases are applicants to four graduate programs at Berkeley during 1973. The variable \texttt{result} tells us if the applicant was accepted to the graduate program, \texttt{sex} tells us the sex of the applicant (male or female), and \texttt{program} tells us program type (programs 1,2,3 or 4).

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{grad }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"https://raw.githubusercontent.com/deepbas/statdatasets/main/BerkeleyGrad.csv"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# dimension of the dataset}
\FunctionTok{dim}\NormalTok{(grad)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 3014    3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# first 6 rows}
\FunctionTok{head}\NormalTok{(grad)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
   program  sex result
1 program1 male accept
2 program1 male accept
3 program1 male accept
4 program1 male accept
5 program1 male accept
6 program1 male accept
\end{verbatim}

(a). Table of counts and proportions

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(grad}\SpecialCharTok{$}\NormalTok{result))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

   accept    reject 
0.4260119 0.5739881 
\end{verbatim}

\begin{itemize}
\tightlist
\item
  What proportion of applicants were accepted?
\end{itemize}

Click for answer

\emph{Answer:} About 43\% (1284/3014) of applicants were accepted.

(b). Two-way tables

The \texttt{table} command also gives two-way tables when two variables are included. Here is the two-way table for result and sex:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{table}\NormalTok{(grad}\SpecialCharTok{$}\NormalTok{sex, grad}\SpecialCharTok{$}\NormalTok{result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
        
         accept reject
  female    262    587
  male     1022   1143
\end{verbatim}

\begin{itemize}
\tightlist
\item
  How many applicants involved females who were accepted?
\end{itemize}

Click for answer

\emph{Answer:} : 262 applicants involved females who were accepted.

(c). Conditional proportions: acceptance given sex

The \texttt{prop.table} command gives conditional proportions for a two-way table. First let's save the two-way table in an object named \texttt{mytable}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mytable }\OtherTok{\textless{}{-}} \FunctionTok{table}\NormalTok{(grad}\SpecialCharTok{$}\NormalTok{sex, grad}\SpecialCharTok{$}\NormalTok{result)}
\end{Highlighting}
\end{Shaded}

Then use \texttt{prop.table} to get the distribution of result conditioned (grouped) on applicant's sex:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(mytable, }\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
        
            accept    reject
  female 0.3085984 0.6914016
  male   0.4720554 0.5279446
\end{verbatim}

The value of \texttt{1} in this command tell's R that you want \emph{row} proportions (the denominator of the proportion is each row total).

\begin{itemize}
\tightlist
\item
  What proportion of female were accepted?
\end{itemize}

Click for answer

\emph{Answer:} about 31\% (262/(262+587))

\begin{itemize}
\tightlist
\item
  What proportion of males were accepted?
\end{itemize}

Click for answer

\emph{Answer:} about 47\% (1022/(1022+1143))

(d). Bar graph for one variable

You can create a simple bar graph for one categorical variable with the \texttt{barplot} command. Here we visualize the distribution of result:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{barplot}\NormalTok{(}\FunctionTok{table}\NormalTok{(grad}\SpecialCharTok{$}\NormalTok{result))}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_4_files/figure-latex/unnamed-chunk-23-1}

We can add in a title and x and y axis labels too:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{barplot}\NormalTok{(}\FunctionTok{table}\NormalTok{(grad}\SpecialCharTok{$}\NormalTok{result), }\AttributeTok{xlab=}\StringTok{"application result"}\NormalTok{, }
        \AttributeTok{ylab=}\StringTok{"Count"}\NormalTok{, }\AttributeTok{main =} \StringTok{"Distribution of Results"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_4_files/figure-latex/unnamed-chunk-24-1}

(e). Stacked bar graph for two variables

Now we can use the \texttt{geom\_bar} command in this package. Here we get the conditional distribution of \texttt{result} given \texttt{sex}:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(ggplot2) }\CommentTok{\# don\textquotesingle{}t need if you already entered it for example 1}
\FunctionTok{ggplot}\NormalTok{(grad, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sex, }\AttributeTok{fill =}\NormalTok{ result)) }\SpecialCharTok{+} 
  \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{position =} \StringTok{"fill"}\NormalTok{) }\SpecialCharTok{+} 
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{y=}\StringTok{"Proportion"}\NormalTok{, }\AttributeTok{title =} \StringTok{"result by sex"}\NormalTok{, }\AttributeTok{fill =} \StringTok{"result?"}\NormalTok{, }\AttributeTok{x =} \StringTok{"sex"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_4_files/figure-latex/unnamed-chunk-25-1}

The basic syntax for this function is to let \texttt{ggplot} know your data set name (\texttt{grad}), then specify the grouping or conditional variable on the x-axis (\texttt{sex}) in the \texttt{aes} (aesthetic) argument. The \texttt{fill} variable is the response variable (\texttt{result}). We add (\texttt{+}) the \texttt{geom\_bar} geometry to get a bar graph with the \texttt{fill} position specified. Adding an informative label and title complete the graph.

\begin{itemize}
\tightlist
\item
  Verify that this graph is plotting the conditional proportions from part (c)
\end{itemize}

(f). Subsetting by program type

Finally, we will repeat the previous analysis of result and sex, but this time we will divide (or subset) the data set by program type. To do this we need to know how the values of \texttt{program} are coded:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{table}\NormalTok{(grad}\SpecialCharTok{$}\NormalTok{program)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

program1 program2 program3 program4 
     933      585      782      714 
\end{verbatim}

Here we use the \texttt{filter} command available from the \texttt{dplyr} package to get only the applicants to program 1:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(dplyr)}
\NormalTok{grad.p1 }\OtherTok{\textless{}{-}} \FunctionTok{filter}\NormalTok{(grad, program }\SpecialCharTok{==} \StringTok{"program1"}\NormalTok{)  }\CommentTok{\# gets rows where program equal program1}
\FunctionTok{head}\NormalTok{(grad.p1)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
   program  sex result
1 program1 male accept
2 program1 male accept
3 program1 male accept
4 program1 male accept
5 program1 male accept
6 program1 male accept
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{dim}\NormalTok{(grad.p1)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 933   3
\end{verbatim}

Verify that the number of rows in the subsetted program 1 data set matches the number of program 1 applicants shown in the \texttt{table} of counts above.

\begin{itemize}
\tightlist
\item
  Repeat the \texttt{filter} command to get a data set for program 2 and call the new data set \texttt{grad.p2}. Verify that the number of rows in this dataset matches the number of program 2 applicants in the original data set.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# enter R code for (f) here}
\NormalTok{grad.p2 }\OtherTok{\textless{}{-}} \FunctionTok{filter}\NormalTok{(grad, program }\SpecialCharTok{==} \StringTok{"program2"}\NormalTok{) }\CommentTok{\# gets rows where program equal program1}
\FunctionTok{head}\NormalTok{(grad.p2)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
   program  sex result
1 program2 male accept
2 program2 male accept
3 program2 male accept
4 program2 male accept
5 program2 male accept
6 program2 male accept
\end{verbatim}

(g). Result by sex for program 1.

\begin{itemize}
\tightlist
\item
  Show the distribution of result conditioned on applicant's sex for the program 1 data set. Get both a table of conditional proportions (or percentages) and a stacked bar graph.
\end{itemize}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# enter R code for (g) here}
\FunctionTok{ggplot}\NormalTok{(grad.p1, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sex, }\AttributeTok{fill =}\NormalTok{ result)) }\SpecialCharTok{+}
 \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{position =} \StringTok{"fill"}\NormalTok{) }\SpecialCharTok{+}
 \FunctionTok{labs}\NormalTok{(}\AttributeTok{y=}\StringTok{"Proportion"}\NormalTok{, }\AttributeTok{title =} \StringTok{"result by sex for program 1"}\NormalTok{,}
 \AttributeTok{fill =} \StringTok{"result?"}\NormalTok{, }\AttributeTok{x =} \StringTok{"sex"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_4_files/figure-latex/unnamed-chunk-29-1}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(grad.p1}\SpecialCharTok{$}\NormalTok{sex, grad.p1}\SpecialCharTok{$}\NormalTok{result),}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
        
            accept    reject
  female 0.8240741 0.1759259
  male   0.6193939 0.3806061
\end{verbatim}

(h). Result by sex for program 2.

\begin{itemize}
\tightlist
\item
  Repeat part (g) but this time use the program 2 data set. Compare the two bar graphs for (g) and (h) and explain how they show that females have a higher acceptance rate after accounting for program type (1 or 2).
\end{itemize}

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# enter R code for (h) here}
\FunctionTok{ggplot}\NormalTok{(grad.p2, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sex, }\AttributeTok{fill =}\NormalTok{ result)) }\SpecialCharTok{+}
 \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{position =} \StringTok{"fill"}\NormalTok{) }\SpecialCharTok{+}
 \FunctionTok{labs}\NormalTok{(}\AttributeTok{y=}\StringTok{"Proportion"}\NormalTok{, }\AttributeTok{title =} \StringTok{"result by sex for program 2"}\NormalTok{,}
 \AttributeTok{fill =} \StringTok{"result?"}\NormalTok{, }\AttributeTok{x =} \StringTok{"sex"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_4_files/figure-latex/unnamed-chunk-31-1}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(grad.p2}\SpecialCharTok{$}\NormalTok{sex, grad.p2}\SpecialCharTok{$}\NormalTok{result),}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
        
            accept    reject
  female 0.6800000 0.3200000
  male   0.6285714 0.3714286
\end{verbatim}

\emph{Answer:} For both programs 1 and 2, we see that female applicants have a slightly higher rate of acceptance
than male applicants. After accounting for program type, we now see that black defendants have a higher
rate of death penalty than white defendants. Without accounting for program type, the opposite was true
(see parts (c) and (e)).

Why? the confounding affect of program type which is associated with both result and sex:

Click for answer

\begin{itemize}
\tightlist
\item
  females prefer to apply to programs 3 and 4 while males prefer programs 1 and 2 (more than 3 and
  4).

  \begin{itemize}
  \tightlist
  \item
    44\% of females applied to program 3 and 40\% to program 4
  \item
    38\% of males applied to program 1 and 26\% to program 2
  \end{itemize}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(grad}\SpecialCharTok{$}\NormalTok{sex, grad}\SpecialCharTok{$}\NormalTok{program), }\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
        
           program1   program2   program3   program4
  female 0.12720848 0.02944641 0.44169611 0.40164900
  male   0.38106236 0.25866051 0.18799076 0.17228637
\end{verbatim}

-Programs 3 and 4 were much harder to get into than programs 1 and 2
- 64\% of applicants to program 1 were accepted and 63\% of applicants to program 2 were accepted
- 6\% of applicants to program 4 were accepted and 34\% of applicants to program 3 were accepted

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(grad}\SpecialCharTok{$}\NormalTok{program, grad}\SpecialCharTok{$}\NormalTok{result), }\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
          
               accept     reject
  program1 0.64308682 0.35691318
  program2 0.63076923 0.36923077
  program3 0.34398977 0.65601023
  program4 0.06442577 0.93557423
\end{verbatim}

So since the majority of females applied to the toughest programs (as measured by acceptance rates),
there overall rate of acceptance was lower for females compared to males. But when we break down
these rates by program type, we see that females have higher acceptance rates than males (see the
visual in part (i)).

(i). A bar graph with three variables

If we simply want to graph the relationship between result and sex for each type of program, we can avoid subsetting the data by using the \texttt{facet\_wrap} command in \texttt{ggplot2}. It is one simple addition to the stacked bar graph in part (e):

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(grad, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sex, }\AttributeTok{fill =}\NormalTok{ result)) }\SpecialCharTok{+} 
  \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{position =} \StringTok{"fill"}\NormalTok{) }\SpecialCharTok{+} 
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{y=}\StringTok{"Proportion"}\NormalTok{, }
       \AttributeTok{title =} \StringTok{"result by sex for each program"}\NormalTok{, }
       \AttributeTok{fill =} \StringTok{"result?"}\NormalTok{, }
       \AttributeTok{x =} \StringTok{"sex"}\NormalTok{) }\SpecialCharTok{+} 
  \FunctionTok{facet\_wrap}\NormalTok{(}\SpecialCharTok{\textasciitilde{}}\NormalTok{program)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_4_files/figure-latex/unnamed-chunk-35-1}

\begin{itemize}
\tightlist
\item
  Verify that this command creates side-by-side stacked bar graphs that match your graphs in parts (g) and (h) for programs 1 and 2.
\end{itemize}

Click for answer

\emph{Answer:} The graphs match.

\hypertarget{class-activity-5}{%
\chapter{Class Activity 5}\label{class-activity-5}}

\hypertarget{your-turn-1-3}{%
\section{Your Turn 1}\label{your-turn-1-3}}

\hypertarget{hollywood-movies-domestic-gross}{%
\section{Hollywood Movies Domestic Gross}\label{hollywood-movies-domestic-gross}}

The dataset \texttt{HollywoodMovies2011} provides information on 136 movies that came out of Hollywood in 2011. We will look at the variable \texttt{DomesticGross}, which gives US domestic gross income for a movie from all viewers (in millions of dollars).

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{movies }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"https://raw.githubusercontent.com/deepbas/statdatasets/main/HollywoodMovies2011.csv"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{hist}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{DomesticGross, }\AttributeTok{main=}\StringTok{"Distribution of Domestic Gross"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_5_files/figure-latex/unnamed-chunk-2-1}

(a). Describe the shape of the distribution.

Click for answer

\emph{Answer:} Skewed to the right

(b). Do there appear to be any outliers? If so, which values?

Click for answer

\emph{Answer:} Yes, it looks like there are a few high outliers above 300 million.

(c). Finding outliers

We can find the row numbers of cases (movies) that have \texttt{DomesticGross} greater than 300 (300 million dollars):

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{which}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{DomesticGross }\SpecialCharTok{\textgreater{}} \DecValTok{300}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1]  4 14
\end{verbatim}

Run the \texttt{which} command to verify that rows 4 and 14. Then find out which movies these are by subsetting the data frame:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{movies[}\FunctionTok{c}\NormalTok{(}\DecValTok{4}\NormalTok{,}\DecValTok{14}\NormalTok{), ]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
                                         Movie
4  Harry Potter and the Deathly Hallows Part 2
14              Transformers: Dark of the Moon
            LeadStudio RottenTomatoes AudienceScore   Story
4          Warner Bros             96            92 Rivalry
14 DreamWorks Pictures             35            67   Quest
     Genre TheatersOpenWeek BOAverageOpenWeek DomesticGross
4  Fantasy             4375             38672        381.01
14  Action             4088             23937        352.39
   ForeignGross WorldGross Budget Profitability
4        947.10   1328.111    125     10.624888
14       770.81   1123.195    195      5.759974
   OpeningWeekend
4          169.19
14          97.85
\end{verbatim}

Note that the \texttt{c(4,14)} part of this command creates a \textbf{vector} of the numbers 4 and 14 (the \texttt{c} stands for combine). Which movies are the outliers?

Click for answer

\emph{Answer:} Harry Potter and the Deathly Hallows Part 2 and Transformers: Dark of the Moon.

(d). Use the histogram to answer: Is the median less than 100 million, about 100 million, above 100 million?

Click for answer

\emph{Answer:} It is the point with half the data to the left and half to the right. The median is less than 100
since 100 roughly 110 (80 + 30) cases below it which is well over half the movies in the data set.

(e). Do you expect the mean to be greater than or less than the median. Explain.

Click for answer

\emph{Answer:} Because the distribution is skewed to the right, we expect the mean to be larger than the median.
The large outliers will pull the mean up and won't have much effect on the median.

(f). Computing the mean and median

You can get the mean and median a number of ways. Run these three commands:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{mean}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{DomesticGross)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] NA
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{median}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{DomesticGross)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] NA
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{summary}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{DomesticGross)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   0.02   19.03   37.35   63.22   80.46  381.01       2 
\end{verbatim}

What does \texttt{NA} stand for? How many movies have missing \texttt{DomesticGross}? You can subset the data to show you which cases have \texttt{NA} values for \texttt{DomesticGross}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{movies[}\FunctionTok{is.na}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{DomesticGross), ]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
                              Movie LeadStudio
134                            Hugo  Paramount
136 Never Back Down 2: The Beatdown       Sony
    RottenTomatoes AudienceScore   Story     Genre
134             93            84         Adventure
136             NA            44 Rivalry    Action
    TheatersOpenWeek BOAverageOpenWeek DomesticGross
134             1277              8899            NA
136               NA                NA            NA
    ForeignGross WorldGross Budget Profitability
134           NA         NA     NA            NA
136           NA         NA      3             0
    OpeningWeekend
134          11.36
136           8.60
\end{verbatim}

Click for answer

\emph{Answer:} The \texttt{NA} value stands for ``Not Available'' which is used to code missing values. We can inspect the data frame and see that Hugo and Never Back Down 2 are the two movies that do not have domestic
gross values.

(g). Missing data

There are some commands in R that ``fail'' as a default when missing data (\texttt{NA}) are present (\texttt{mean}, \texttt{median} and \texttt{sd} are examples). We can easily turn off this failure feature with the argument \texttt{na.rm=TRUE}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{mean}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{DomesticGross, }\AttributeTok{na.rm=}\ConstantTok{TRUE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 63.22276
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{median}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{DomesticGross, }\AttributeTok{na.rm=}\ConstantTok{TRUE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 37.355
\end{verbatim}

(h). Stats without outliers

There are a number of ways to ``remove'' outliers from an analysis. Here we use the square bracket \texttt{{[}{]}} notation along with a minus \texttt{-} to remove row 4 (Harry Potter) from the variable \texttt{DomesticGross} before our summary stat calculations:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{summary}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{DomesticGross[}\SpecialCharTok{{-}}\DecValTok{4}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   0.02   18.88   37.30   60.83   80.36  352.39       2 
\end{verbatim}

Why does the mean change more than the median when this case is removed? (compare (g) and (h) mean and median values)

Click for answer

\emph{Answer:} Both values go down after removing the highest grossing movie of the year, but the drop in the mean is more substantial. The mean drops by almost 4\% when Harry Potter is removed while the median only drops by about 0.1\%.

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{100}\SpecialCharTok{*}\NormalTok{(}\FloatTok{60.83} \SpecialCharTok{{-}} \FloatTok{63.22276}\NormalTok{)}\SpecialCharTok{/}\FloatTok{63.22276} \CommentTok{\# percent change in the mean}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] -3.78465
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{100}\SpecialCharTok{*}\NormalTok{(}\FloatTok{37.30} \SpecialCharTok{{-}} \FloatTok{37.355}\NormalTok{)}\SpecialCharTok{/}\FloatTok{37.355} \CommentTok{\# percent change in the median}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] -0.147236
\end{verbatim}

(i). Computing standard deviation

The standard deviation command is \texttt{sd}. We need to add the \texttt{na.rm} argument to obtain the SD for \texttt{DomesticGross}:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sd}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{DomesticGross, }\AttributeTok{na.rm=}\ConstantTok{TRUE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 69.41799
\end{verbatim}

Look again at the distribution of \texttt{DomesticGross} shown in the histogram. Why is SD (variation around the mean) an inadequate measure of variation for this type of distribution?

Click for answer

\emph{Answer:} The is much more variation (spread) to the data above the mean than below it. Because the distribution is strongly skewed right, we can't use one measure of variation when describing how \texttt{DomesticGross} values vary around some central value (like a mean).

(j). Stats by \texttt{Genre}

The \texttt{tapply(y,\ x,\ stat)} command gives the \texttt{stat} value of \texttt{y} for each level of \texttt{x}. Here we get the \texttt{summary} of \texttt{DomesticGross} for each type of \texttt{Genre}:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{tapply}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{DomesticGross, movies}\SpecialCharTok{$}\NormalTok{Genre, summary)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
$Action
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   0.54   24.96   40.26   91.02  161.53  352.39       1 

$Adventure
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
     NA      NA      NA     NaN      NA      NA       1 

$Animation
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  21.39   51.41  115.67  104.62  142.86  191.45 

$Comedy
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   5.79   23.21   37.41   56.51   69.75  254.46 

$Drama
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   0.38    4.40   13.30   32.37   51.16  169.22 

$Fantasy
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   1.32   96.24  191.16  191.16  286.09  381.01 

$Horror
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   0.02   17.69   24.05   34.87   38.18  127.00 

$Romance
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   0.03   18.51   39.05   61.40   70.26  260.80 

$Thriller
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   0.02   31.18   40.49   41.44   62.50   79.25 
\end{verbatim}

\begin{itemize}
\tightlist
\item
  Which movies genre has the highest median domestic gross?
\item
  Why are there no summary stats for the adventure genre?
\end{itemize}

Click for answer

\emph{Answer:} To help answer these questions you really should explore the number of movies in each genrewith the table command.

\begin{itemize}
\item
  The fantasy genre has the highest median domestic gross (\(\$381\) million). But note that only two movies have this classification in 2011. The action genre was second highest at \(\$352\) million and there were 12 movies in this category.
\item
  The adventure genre only has one movie (Hugo) and this movie is also missing a value for \texttt{DomesticGross}!
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{table}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{Genre)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

   Action Adventure Animation    Comedy     Drama   Fantasy 
       32         1        12        27        21         2 
   Horror   Romance  Thriller 
       17        11        13 
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{which}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{Genre }\SpecialCharTok{==} \StringTok{"Adventure"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 134
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{movies[}\DecValTok{134}\NormalTok{, ]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
    Movie LeadStudio RottenTomatoes AudienceScore Story
134  Hugo  Paramount             93            84      
        Genre TheatersOpenWeek BOAverageOpenWeek
134 Adventure             1277              8899
    DomesticGross ForeignGross WorldGross Budget
134            NA           NA         NA     NA
    Profitability OpeningWeekend
134            NA          11.36
\end{verbatim}

(k). Extra: Histogram of \texttt{DomesticGross} by \texttt{Genre}

(Not in Lab Manual) The \texttt{ggplot2} package allows you to create histograms separated by a categorical variable using the \texttt{facet\_wrap} command. Assuming that \texttt{ggplot2} is already installed, all you need to do is load it with \texttt{library} then create your graph:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{ggplot}\NormalTok{(movies, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{DomesticGross)) }\SpecialCharTok{+} 
  \FunctionTok{geom\_histogram}\NormalTok{() }\SpecialCharTok{+} 
  \FunctionTok{facet\_wrap}\NormalTok{(}\SpecialCharTok{\textasciitilde{}}\NormalTok{Genre)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_5_files/figure-latex/unnamed-chunk-15-1}

Which genre has the most variability in domestic gross?

Click for answer

\emph{Answer:} The action genre has the largest range of values.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{your-turn-2-3}{%
\section{Your turn 2}\label{your-turn-2-3}}

\hypertarget{example-2-sleep}{%
\subsection{Example 2: Sleep}\label{example-2-sleep}}

This histogram shows the distribution of hours or sleep per night for a large sample of students.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sleep }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"https://raw.githubusercontent.com/deepbas/statdatasets/main/SleepStudy.csv"}\NormalTok{)}
\FunctionTok{hist}\NormalTok{(sleep}\SpecialCharTok{$}\NormalTok{AverageSleep, }\AttributeTok{main=}\StringTok{"Distribution of Sleep Hours"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_5_files/figure-latex/unnamed-chunk-16-1}

(a). Estimate the average hours of sleep per night.

Click for answer

\emph{Answer:} The mean is around 8 hours

(b). Use the 95\% rule to estimate the standard deviation for this data.

\emph{Answer:} Most of the data is between about 6 and 10, with a mean around 8 (due to the roughly symmetric distribution). So two standard deviations is about 2 hours of sleep, making one standard deviation about 1 hours of sleep.

Let's check the rule. Here are the actual mean and SD:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{mean}\NormalTok{(sleep}\SpecialCharTok{$}\NormalTok{AverageSleep)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 7.965929
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sd}\NormalTok{(sleep}\SpecialCharTok{$}\NormalTok{AverageSleep)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.9648396
\end{verbatim}

\hypertarget{example-3-z-scores-for-test-scores}{%
\section{Example 3: Z-scores for Test Scores}\label{example-3-z-scores-for-test-scores}}

The ACT test has a population mean of 21 and standard deviation of 5. The SAT has a population mean of 1500 and a standard deviation of 325. You earned 28 on the ACT and 2100 on the SAT.

(a). Which test did you do better on?

Click for answer

\emph{Answer:}

\begin{itemize}
\tightlist
\item
  ACT: The z-score for the score of 28 is \(z = (28 - 21)/5 = 1.4.\)
\item
  SAT: The z-score for the score of 2100 is \(z = (2100 - 1500)/325 = 1.85.\)
\item
  The SAT score is 1.85 standard deviations above average while the ACT score is only 1.4 standard deviations above. You did better on the SAT.
\end{itemize}

(b). For each test, find the interval that is likely to contain about 95\% of all test scores.

Click for answer

\emph{Answer:}

\begin{itemize}
\item
  ACT: Two standard deviations is \(2(5) = 10.\) About 95\% of ACT scores are between \(28 - 10 = 13\) and \(28 + 10 = 38.\) This claim assumes that ACT scores follow a bell-shaped distribution.
\item
  SAT: Two standard deviations is \(2(325) = 650.\) About 95\% of SAT scores are between \(1500 - 650 = 850\) and \(1500 + 650 = 2150\). This claim assumes that SAT scores follow a bell-shaped distribution.
\end{itemize}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{example-4-5-number-summaries}{%
\section{Example 4: 5 number summaries}\label{example-4-5-number-summaries}}

For each five number summary below, indicate whether the data appear to be symmetric, skewed to the right, or skewed to the left.

(a). (2, 10, 15, 20, 69)

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my\_vector1 }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{10}\NormalTok{, }\DecValTok{15}\NormalTok{, }\DecValTok{20}\NormalTok{, }\DecValTok{69}\NormalTok{)}
\FunctionTok{summary}\NormalTok{(my\_vector1)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      1      10      15      23      20      69 
\end{verbatim}

Click for answer

\emph{Answer:} Skewed right. It has a longer right tail than left since \(max - Q3 >> Q1 - min\)

(b). (10, 57, 85, 88, 93)

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my\_vector2 }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{10}\NormalTok{, }\DecValTok{57}\NormalTok{, }\DecValTok{85}\NormalTok{, }\DecValTok{88}\NormalTok{, }\DecValTok{93}\NormalTok{)}
\FunctionTok{summary}\NormalTok{(my\_vector2)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   10.0    57.0    85.0    66.6    88.0    93.0 
\end{verbatim}

Click for answer

\emph{Answer:} Skewed left since mean is less than median.

(c). (200, 300, 400, 500, 600)

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my\_vector3 }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{200}\NormalTok{, }\DecValTok{300}\NormalTok{, }\DecValTok{400}\NormalTok{, }\DecValTok{500}\NormalTok{, }\DecValTok{600}\NormalTok{)}
\FunctionTok{summary}\NormalTok{(my\_vector3)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    200     300     400     400     500     600 
\end{verbatim}

Click for answer

\emph{Answer:} Symmetric since mean is same as median.

\hypertarget{example-5-hot-dog}{%
\section{Example 5: Hot dog}\label{example-5-hot-dog}}

This boxplot shows the number of hot dogs eaten by the winners of Nathan's Famous hot dog eating contests from 2002-2011.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{hotdogs }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"https://raw.githubusercontent.com/deepbas/statdatasets/main/HotDogs.csv"}\NormalTok{)}
\FunctionTok{boxplot}\NormalTok{(hotdogs}\SpecialCharTok{$}\NormalTok{HotDogs, }\AttributeTok{xlab=}\StringTok{"Number of Hot Dogs Consumed"}\NormalTok{, }\AttributeTok{horizontal=}\NormalTok{T)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_5_files/figure-latex/unnamed-chunk-22-1}

(a). Use the boxplot to estimate the 5 number summary and IQR for this data.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{boxplot}\NormalTok{(hotdogs}\SpecialCharTok{$}\NormalTok{HotDogs, }\AttributeTok{xlab=}\StringTok{"Number of Hot Dogs Consumed"}\NormalTok{, }\AttributeTok{horizontal=}\NormalTok{T)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_5_files/figure-latex/unnamed-chunk-23-1}

Click for answer

\emph{Answer:} min = 45, Q1 = 50, m = 54, Q3 = 62, max = 67. IQR is about 62-50 or 12 hotdogs

(b). Computing 5 number summaries

R doesn't have `5 number summary' command, but \texttt{summary} gives you a ``6'' number summary by adding the mean to the 5 number summary. You can also use \texttt{IQR} to get the IQR:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{summary}\NormalTok{(hotdogs}\SpecialCharTok{$}\NormalTok{HotDogs)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  45.00   54.00   60.00   58.64   65.00   69.00 
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{IQR}\NormalTok{(hotdogs}\SpecialCharTok{$}\NormalTok{HotDogs)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 11
\end{verbatim}

How close were your guesses from the boxplot to the values given by this command?

Click for answer

(Answers will vary) Within one hotdog of the R values.

(c). Use the boxplot outlier rule to verify that there are no outliers in this data.

Click for answer

\emph{Answer:}

\begin{itemize}
\tightlist
\item
  \(1.5IQR = 18\) hotdogs.
\item
  Lower fence: \(Q1 - 1.5 IQR = 50 - 18 = 32 < min\) so there are no low outliers.
\item
  Upper fence: \(Q3 + 1.5 IQR = 62 + 18 = 80 > max\) so there are no high outliers.
\end{itemize}

\hypertarget{examples-6-hollywood-movies-world-gross-revisited}{%
\section{Examples 6: Hollywood Movies World Gross revisited}\label{examples-6-hollywood-movies-world-gross-revisited}}

Let's revist the \texttt{WorldGross} analysis from the Hollywood movies data set:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{movies }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"https://raw.githubusercontent.com/deepbas/statdatasets/main/HollywoodMovies2011.csv"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

(a). Draw a boxplot of \texttt{WorldGross}.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{boxplot}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{WorldGross)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_5_files/figure-latex/unnamed-chunk-26-1}

How many movies are identified as outliers for world gross?

Click for answer

\emph{Answer:} Just using the boxplot, there looks to be about 10 movies that are high outliers

(b). Calculating boxplot values

Use the boxplot outlier rule to find the ``fence'' (cutoff) between an outlier and non-outlier for \texttt{WorldGross}. Then determine the value (of \texttt{WorldGross}) that the upper ``whisker'' (non-outlier) extends to.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{summary}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{WorldGross)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
    Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
   0.025   30.706   76.659  150.742  173.691 1328.111 
    NA's 
       2 
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{IQR}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{WorldGross, }\AttributeTok{na.rm =} \ConstantTok{TRUE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 142.985
\end{verbatim}

Click for answer

\begin{itemize}
\item
  \(1.5IQR = 1.5(142.985) = 214.48\) hundred million dollars
\item
  Lower fence: \(Q1 - 1.5IQR = 30.710 - 214.48 = -183.8 < min\) so there are no low outliers.
\item
  Upper fence: \(Q3 + 1.5IQR = 173.7 + 214.48 = 388.18 < max\) so there are high outliers.
\item
  The upper whisker extends to the largest movie value that is below the fence of 388.18. You could look at the data spreadsheet and find which movie comes closest to this fence, but a quicker way is to use R. First we can use which to find out the row numbers of the movies with less than 388.18 in WorldGross. Then use this set to find out the max of the WorldGross within this group of movies, which turns out to be 368.404 hundred million dollars.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\FloatTok{1.5}\SpecialCharTok{*}\FunctionTok{IQR}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{WorldGross, }\AttributeTok{na.rm =} \ConstantTok{TRUE}\NormalTok{)}
\NormalTok{[}\DecValTok{1}\NormalTok{] }\FloatTok{214.4775}
\FloatTok{30.710} \SpecialCharTok{{-}} \FloatTok{214.48}
\NormalTok{[}\DecValTok{1}\NormalTok{] }\SpecialCharTok{{-}}\FloatTok{183.77}
\FloatTok{173.7} \SpecialCharTok{+} \FloatTok{214.48}
\NormalTok{[}\DecValTok{1}\NormalTok{] }\FloatTok{388.18}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{notoutliers }\OtherTok{\textless{}{-}} \FunctionTok{which}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{WorldGross }\SpecialCharTok{\textless{}} \FloatTok{388.18}\NormalTok{)}
\FunctionTok{max}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{WorldGross[notoutliers])}
\NormalTok{[}\DecValTok{1}\NormalTok{] }\FloatTok{368.404}
\FunctionTok{which}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{WorldGross }\SpecialCharTok{==} \FloatTok{368.404}\NormalTok{)}
\NormalTok{[}\DecValTok{1}\NormalTok{] }\DecValTok{49}
\NormalTok{movies[}\DecValTok{49}\NormalTok{,]}
\NormalTok{                                Movie LeadStudio}
\DecValTok{49}\NormalTok{ Captain America}\SpecialCharTok{:}\NormalTok{ The First Avenger     Disney}
\NormalTok{   RottenTomatoes AudienceScore         Story  Genre}
\DecValTok{49}             \DecValTok{78}            \DecValTok{75}\NormalTok{ Metamorphosis Action}
\NormalTok{   TheatersOpenWeek BOAverageOpenWeek DomesticGross}
\DecValTok{49}             \DecValTok{3715}             \DecValTok{17512}        \FloatTok{176.65}
\NormalTok{   ForeignGross WorldGross Budget Profitability}
\DecValTok{49}       \FloatTok{191.75}    \FloatTok{368.404}    \DecValTok{140}      \FloatTok{2.631457}
\NormalTok{   OpeningWeekend}
\DecValTok{49}          \FloatTok{65.06}
\end{Highlighting}
\end{Shaded}

(c). Side-by-side boxplot

We can compare boxplots of \texttt{WorldGross} across \texttt{Genre} categories:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{boxplot}\NormalTok{(WorldGross }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Genre, }\AttributeTok{data=}\NormalTok{movies)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_5_files/figure-latex/unnamed-chunk-30-1}

\begin{itemize}
\tightlist
\item
  What does this type of graph illustrate well about the relationship between \texttt{WorldGross} and \texttt{Genre}?
\end{itemize}

Click for answer

\emph{Answer:} Does a good job comparing median values and extremes

\begin{itemize}
\tightlist
\item
  What does this type of graph not illustrate well about the relationship between \texttt{WorldGross} and \texttt{Genre}?
\end{itemize}

Click for answer

\emph{Answer:} It doesn't illustrate sample sizes well, e.g.~the fantacy genre only has 2 movies in it

\begin{itemize}
\tightlist
\item
  What is one issue with the default version of this graph?
\end{itemize}

Click for answer

\emph{Answer:} The genre labels are not all present.

(d). Improving the default boxplot

There are many values in \texttt{Genre} for this data and their values (levels) have longer names. This can cause issues when using these names to label graphs, like the x-axis in your boxplot. The are many (many, many) ways to modify graphs in R. Here is one way to change the label orientation on your x-axis.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{boxplot}\NormalTok{(WorldGross }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Genre, }\AttributeTok{data=}\NormalTok{movies, }\AttributeTok{las=}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_5_files/figure-latex/unnamed-chunk-31-1}

The \texttt{las} arguments let's you change the orientation of the axis labels relative to the axis. The value of 2 makes the labels perpendicular to the axis.

\hypertarget{example-8-ants-on-a-sandwich}{%
\section{Example 8: Ants on a Sandwich}\label{example-8-ants-on-a-sandwich}}

The number of ants climbing on a piece of a peanut butter sandwich left on the ground near an anthill for a few minutes was measured 7 different times and the results are:
\(43, 59, 22, 25, 36, 47, 19\)

(a). Calculate the mean number of ants.

Click for answer

\emph{Answer:} \(\bar{x} = 35.857\)

(b). Calculate the median number of ants.

Click for answer

\emph{Answer:} Order data then find middle value: \(19, 22, 25, 36, 43, 47, 59\). Then \(m = 36\)

(c). Calculate the quartiles for the number of ants.

Click for answer

\emph{Answer:} Since \(m = 36\), the first quartile will be the median of \(19, 22, 25: Q1 = 22.\) The third quartile will be the median of \(43, 47, 59: Q3 = 47.\)

\hypertarget{class-activity-6}{%
\chapter{Class Activity 6}\label{class-activity-6}}

\hypertarget{your-turn-1-4}{%
\section{Your Turn 1}\label{your-turn-1-4}}

\hypertarget{beer-example}{%
\subsection{Beer Example}\label{beer-example}}

A study of 16 Ohio State University students looked at the relationship between the number of beers a student consumes and their blood alcohol content (BAC) 30 minutes after their last beer. The regression information from R to predict BAC from number of beers consumed is given below.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{bac }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"https://raw.githubusercontent.com/deepbas/statdatasets/main/BAC.csv"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

(a). Always start with a visual!!!!

Plot the response (BAC) on the y-axis and the explantory (``predictor'') on the x-axis.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{plot}\NormalTok{(BAC }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Beers, }\AttributeTok{data=}\NormalTok{bac)  }
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_6_files/figure-latex/unnamed-chunk-2-1}

\begin{itemize}
\tightlist
\item
  Is there a relationship?

  \begin{itemize}
  \tightlist
  \item
    direction?
  \item
    strength?
  \item
    form?
  \end{itemize}
\end{itemize}

You can modify this basic graph by adding a title and changing the plotting symbol. The \texttt{pch=19} argument changes the symbols to filled circles.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{plot}\NormalTok{(BAC }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Beers, }\AttributeTok{data=}\NormalTok{bac, }\AttributeTok{pch=}\DecValTok{19}\NormalTok{, }
     \AttributeTok{main=}\StringTok{"Beer and BAC"}\NormalTok{, }\AttributeTok{xlab=}\StringTok{"Number of beers drank"}\NormalTok{, }\AttributeTok{ylab =} \StringTok{"Blood Alcohol Content"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_6_files/figure-latex/unnamed-chunk-3-1}

(b). Computing correlation

Since the \emph{form} of the relationship is linear, we can use \textbf{correlation} to measure its strength:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{cor}\NormalTok{(bac}\SpecialCharTok{$}\NormalTok{BAC, bac}\SpecialCharTok{$}\NormalTok{Beers)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.8943381
\end{verbatim}

(c). Fitting a regression line

We use the \texttt{lm(y\ \textasciitilde{}\ x,\ data=mydata)} function to fit a \textbf{l}inear (regression) \textbf{m}odel for a response y given an explanatory variable x. This command creates a \textbf{linear model object} that needs to be assigned a name, here we call it \texttt{bac.lm}. You can get the slope and intercept by typing out the object name:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{bac.lm }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(BAC }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Beers, }\AttributeTok{data=}\NormalTok{bac)}
\NormalTok{bac.lm}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

Call:
lm(formula = BAC ~ Beers, data = bac)

Coefficients:
(Intercept)        Beers  
   -0.01270      0.01796  
\end{verbatim}

\begin{itemize}
\item
  After running the \texttt{lm} command above in your R console, check the \textbf{Environment} tab to see that the object \texttt{bac.lm} is now one of the objects stored in R's memory (for this session of Rstudio).
\item
  Write down the fitted regression equation to predict BAC from number of beers.
\end{itemize}

Click for answer

\emph{Answer:} \(\hat{y} = \ldots\)

\begin{itemize}
\tightlist
\item
  You can add this regression line to your scatterplot from part (a) by creating the plot and using the \texttt{abline} command:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Need to call the plot function again!!}

\FunctionTok{plot}\NormalTok{(BAC }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Beers, }\AttributeTok{data=}\NormalTok{bac, }\AttributeTok{pch=}\DecValTok{19}\NormalTok{, }
     \AttributeTok{main=}\StringTok{"Beer and BAC"}\NormalTok{, }\AttributeTok{xlab=}\StringTok{"Number of beers drank"}\NormalTok{, }\AttributeTok{ylab =} \StringTok{"Blood Alcohol Content"}\NormalTok{)}
\FunctionTok{abline}\NormalTok{(bac.lm) }\CommentTok{\# adds regression line to the plot above}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_6_files/figure-latex/unnamed-chunk-6-1}

(d). Interpret the slope in context.

Click for answer

\emph{Answer:} Drinking one more beer is associated with a 0.0180 unit increase in predicted BAC.

(e). Interpret the intercept in context, if it makes sense to do so.

Click for answer

\emph{Answer:} The intercept is -0.0127. A student who drinks 0 beers would be predicted to have a negative blood alcohol content. This is not possible so the intercept does not make sense in this context, but the intercept is included in the model to get the best fit line for the data collected.

(f). If your friend at Ohio State drank 2 beers, what would you predict their BAC to be?

Click for answer

\emph{Answer:} The predicted BAC is
\[
\widehat{BAC} = -0.0127 + 0.0180(2) = 0.0233.
\]

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{y.hat }\OtherTok{\textless{}{-}} \SpecialCharTok{{-}}\FloatTok{0.0127} \SpecialCharTok{+} \FloatTok{0.0180}\SpecialCharTok{*}\NormalTok{(}\DecValTok{2}\NormalTok{) }
\NormalTok{y.hat}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.0233
\end{verbatim}

(g). Find the residual for the student in the dataset who drank 2 beers and had a BAC of 0.03.

Click for answer

\emph{Answer:} The residual is
\[
BAC - \widehat{BAC} = .03 - .0233=0.0067
\]

\begin{Shaded}
\begin{Highlighting}[]
\FloatTok{0.03} \SpecialCharTok{{-}}\NormalTok{ (}\SpecialCharTok{{-}}\FloatTok{0.0127} \SpecialCharTok{+} \FloatTok{0.0180}\SpecialCharTok{*}\NormalTok{(}\DecValTok{2}\NormalTok{)) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.0067
\end{verbatim}

(h). Getting residuals in R

Click for answer

We can use the \texttt{resid} command to get the residuals for each case in the data set:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# part h}
\FunctionTok{resid}\NormalTok{(bac.lm)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
           1            2            3            4 
 0.022881795  0.006773080  0.041026747 -0.011009491 
           5            6            7            8 
-0.001190682 -0.018045729  0.028809318 -0.017118205 
           9           10           11           12 
-0.021190682 -0.027118205  0.010845557  0.004918033 
          13           14           15           16 
 0.007881795 -0.023045729  0.004736842 -0.009154443 
\end{verbatim}

Notice that case 2 in the data drank 2 beers and had a BAC recorded as 0.03. We can see that their residual value matches our answer to (g) up to some rounding error.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# part h}
\NormalTok{bac}\SpecialCharTok{$}\NormalTok{BAC[}\DecValTok{2}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.03
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{bac}\SpecialCharTok{$}\NormalTok{Beers[}\DecValTok{2}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 2
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{resid}\NormalTok{(bac.lm)[}\DecValTok{2}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
         2 
0.00677308 
\end{verbatim}

(i). Getting \(R^2\) value

Click for answer

You can use the \texttt{summary} command on an \texttt{lm} object to get a more detailed print out of your linear model, along with the \(R^2\) value for your model:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{summary}\NormalTok{(bac.lm)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

Call:
lm(formula = BAC ~ Beers, data = bac)

Residuals:
      Min        1Q    Median        3Q       Max 
-0.027118 -0.017350  0.001773  0.008623  0.041027 

Coefficients:
             Estimate Std. Error t value Pr(>|t|)    
(Intercept) -0.012701   0.012638  -1.005    0.332    
Beers        0.017964   0.002402   7.480 2.97e-06 ***
---
Signif. codes:  
0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.02044 on 14 degrees of freedom
Multiple R-squared:  0.7998,    Adjusted R-squared:  0.7855 
F-statistic: 55.94 on 1 and 14 DF,  p-value: 2.969e-06
\end{verbatim}

(j). Making a residuals plot

Click for answer

The regression of \texttt{BAC} on \texttt{Beers} has a residuals plot that plots the model's residuals on the y-axis and the explantory (``predictor'') on the x-axis. We add a horizontal reference line (the detrended regression line) with the \texttt{abline(h=0)} command:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# code for residual plot}
\FunctionTok{plot}\NormalTok{(}\FunctionTok{resid}\NormalTok{(bac.lm) }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Beers, }\AttributeTok{data=}\NormalTok{bac, }\AttributeTok{pch=}\DecValTok{19}\NormalTok{, }\AttributeTok{main =} \StringTok{"residuals plot"}\NormalTok{)  }
\FunctionTok{abline}\NormalTok{(}\AttributeTok{h=}\DecValTok{0}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_6_files/figure-latex/unnamed-chunk-12-1}

\textbf{Interpret:} There is one case of 9 beers with a large residual (much higher BAC than predicted), but since there is no clear pattern (trend) in this plot it looks like our regression model adequately describes the relationship between number of beers and BAC.

\begin{itemize}
\tightlist
\item
  Is the magnitude of the scatter around the horizontal 0-line in the residuals plot greater than, less than, or the same as the magnitude of the scatter around the regression line in the scatterplot?
\end{itemize}

Click for answer

\emph{Answer:} The same! The residuals plot is only a ``detrended'' scatterplot, meaning the vertical distances between a point and the regression line on the scatterplot or a point and the 0-line on the residuals plot are exactly the same. The residual plot looks more scattered because the trend is removed and the scale of the y-axis compressed.

(k). Identifying points
The \texttt{which} command can be used to identify points by their row number in a scatterplot.

We can use \texttt{==} to see which case drank exactly 9 beers. Which is the row number of the case that drank 9 beers?

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{plot}\NormalTok{(BAC }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Beers, }\AttributeTok{data=}\NormalTok{bac, }\AttributeTok{pch=}\DecValTok{19}\NormalTok{)  }
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_6_files/figure-latex/unnamed-chunk-13-1}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{which}\NormalTok{(bac}\SpecialCharTok{$}\NormalTok{Beers }\SpecialCharTok{==} \DecValTok{9}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 3
\end{verbatim}

Click for answer

\emph{Answer:} Row 3.

What is the row number of the case with the most negative residual?

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{plot}\NormalTok{(}\FunctionTok{resid}\NormalTok{(bac.lm) }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Beers, }\AttributeTok{data=}\NormalTok{bac, }\AttributeTok{pch=}\DecValTok{19}\NormalTok{)  }
\FunctionTok{abline}\NormalTok{(}\AttributeTok{h=}\DecValTok{0}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_6_files/figure-latex/unnamed-chunk-14-1}

We could eyeball the graph to see that the most negative residual is less than -0.02:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# which case has resid less than {-}0.02?}

\FunctionTok{resid}\NormalTok{(bac.lm)[}\FunctionTok{which}\NormalTok{(}\FunctionTok{resid}\NormalTok{(bac.lm) }\SpecialCharTok{\textless{}} \SpecialCharTok{{-}}\FloatTok{0.02}\NormalTok{)]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
          9          10          14 
-0.02119068 -0.02711821 -0.02304573 
\end{verbatim}

But this identifies 3 cases. We also can see that the lowest residual drank 5 beers. We can add this statement to the original one using the ``and'' sign \texttt{\&}:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# which case had resid less than {-}0.02 AND drank 5 beers}
\FunctionTok{resid}\NormalTok{(bac.lm)[}\FunctionTok{which}\NormalTok{(}\FunctionTok{resid}\NormalTok{(bac.lm) }\SpecialCharTok{\textless{}} \SpecialCharTok{{-}}\FloatTok{0.02} \SpecialCharTok{\&}\NormalTok{ bac}\SpecialCharTok{$}\NormalTok{Beers }\SpecialCharTok{==} \DecValTok{5}\NormalTok{)]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
         10 
-0.02711821 
\end{verbatim}

(l). Checking outlier influence

Will the regression line slope increase, decrease or stay the same if we remove case 3, the 9 beer case, from our model?

Check your answer by adding \texttt{subset\ =\ -3} to the \texttt{lm} command (this removes row 3):

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# define a different linear model with row 3 removed }
\NormalTok{bac.lm2 }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(BAC }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Beers, }\AttributeTok{data=}\NormalTok{bac, }\AttributeTok{subset =} \SpecialCharTok{{-}}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Compare the two models}
\FunctionTok{summary}\NormalTok{(bac.lm2)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

Call:
lm(formula = BAC ~ Beers, data = bac, subset = -3)

Residuals:
      Min        1Q    Median        3Q       Max 
-0.023685 -0.010068 -0.003685  0.011985  0.027208 

Coefficients:
             Estimate Std. Error t value Pr(>|t|)    
(Intercept) 2.481e-05  1.088e-02   0.002    0.998    
Beers       1.455e-02  2.216e-03   6.568  1.8e-05 ***
---
Signif. codes:  
0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.01624 on 13 degrees of freedom
Multiple R-squared:  0.7684,    Adjusted R-squared:  0.7506 
F-statistic: 43.14 on 1 and 13 DF,  p-value: 1.802e-05
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{summary}\NormalTok{(bac.lm)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

Call:
lm(formula = BAC ~ Beers, data = bac)

Residuals:
      Min        1Q    Median        3Q       Max 
-0.027118 -0.017350  0.001773  0.008623  0.041027 

Coefficients:
             Estimate Std. Error t value Pr(>|t|)    
(Intercept) -0.012701   0.012638  -1.005    0.332    
Beers        0.017964   0.002402   7.480 2.97e-06 ***
---
Signif. codes:  
0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.02044 on 14 degrees of freedom
Multiple R-squared:  0.7998,    Adjusted R-squared:  0.7855 
F-statistic: 55.94 on 1 and 14 DF,  p-value: 2.969e-06
\end{verbatim}

\begin{itemize}
\tightlist
\item
  After removing case 3, how has the slope changed? Explain the why the change occurred.
\end{itemize}

\emph{Answer:} The slope drops from 0.0180 to 0.0146. Explanation given above.

\begin{itemize}
\tightlist
\item
  After removing case 3, how has the \(R^2\) changed? Explain the why the change occurred.
\end{itemize}

Click for answer

\emph{Answer:} The \(R^2\) decreases from 79.9\% to 76.8\%. This small decrease happens because case 3 actually enhances the overall linear trend and removing it results is a slight decrease to correlation and \(R^2\).

(m). Adding a categorical variable to your plot

We can create a scatterplot with plotting symbols color coded by a categorical grouping variable using \texttt{ggplot2} package. We use the \texttt{geom\_point()} plot geometry to get a scatterplot with the \texttt{x}, \texttt{y}, and \texttt{color} aesthetics specified. Here we look at the \texttt{BAC} vs.~\texttt{Beers} plot with \texttt{Gender} added:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{ggplot}\NormalTok{(bac, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{Beers, }\AttributeTok{y=}\NormalTok{BAC, }\AttributeTok{color=}\NormalTok{Gender)) }\SpecialCharTok{+} \FunctionTok{geom\_point}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_6_files/figure-latex/unnamed-chunk-19-1}

\begin{itemize}
\tightlist
\item
  Are the associations similar? (form, strength, direction)
\end{itemize}

Click for answer

\emph{Answer:} Both females and males have similar strong, positive linear associations.

(n). Regression lines by groups

A quick way to get the male and female regression line formulas for part (c) is to add a \texttt{subset} argument to the \texttt{lm} command:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{bac.lm.female }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(BAC }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Beers, }\AttributeTok{data=}\NormalTok{bac, }\AttributeTok{subset =}\NormalTok{ Gender }\SpecialCharTok{==} \StringTok{"female"}\NormalTok{)}
\NormalTok{bac.lm.female }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

Call:
lm(formula = BAC ~ Beers, data = bac, subset = Gender == "female")

Coefficients:
(Intercept)        Beers  
   -0.01567      0.02067  
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# enter code for the male model}

\NormalTok{bac.lm.male }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(BAC }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Beers, }\AttributeTok{data=}\NormalTok{bac, }\AttributeTok{subset =}\NormalTok{ Gender }\SpecialCharTok{==} \StringTok{"male"}\NormalTok{)}
\NormalTok{bac.lm.male}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

Call:
lm(formula = BAC ~ Beers, data = bac, subset = Gender == "male")

Coefficients:
(Intercept)        Beers  
  -0.009785     0.015341  
\end{verbatim}

\begin{itemize}
\tightlist
\item
  What is the regression line for females? for males?
\end{itemize}

Click for answer

\emph{Answer:} For females: \(\widehat{BAC} = -0.016 +0.021(BAC)\) and for males: \(\widehat{BAC} = -0.01 +0.015(BAC)\)

\begin{itemize}
\tightlist
\item
  Which gender has the largest slope? What does this suggest about the relationship between number of beers and BAC for this gender?
\end{itemize}

Click for answer

\emph{Answer:} The slope for females is slightly higher. This shows that the effect of one more beer on predicted BAC in females is larger than males (a 0.021 increase vs.~a 0.015 increase).

Another way to obtain regression models by \texttt{Gender} is to split the data set in a female and male data set, then run your \texttt{lm} on these two data sets. The benefit of this method is you can then create a residuals plot for your model much easier than the quicker method above:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{bac.female }\OtherTok{\textless{}{-}} \FunctionTok{subset}\NormalTok{(bac, }\AttributeTok{sub =}\NormalTok{ Gender }\SpecialCharTok{==} \StringTok{"female"}\NormalTok{)}
\FunctionTok{lm}\NormalTok{(BAC }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Beers, }\AttributeTok{data=}\NormalTok{bac.female)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

Call:
lm(formula = BAC ~ Beers, data = bac.female)

Coefficients:
(Intercept)        Beers  
   -0.01567      0.02067  
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{bac.male }\OtherTok{\textless{}{-}} \FunctionTok{subset}\NormalTok{(bac, }\AttributeTok{sub =}\NormalTok{ Gender }\SpecialCharTok{==} \StringTok{"male"}\NormalTok{)}
\FunctionTok{lm}\NormalTok{(BAC }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Beers, }\AttributeTok{data=}\NormalTok{bac.male)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

Call:
lm(formula = BAC ~ Beers, data = bac.male)

Coefficients:
(Intercept)        Beers  
  -0.009785     0.015341  
\end{verbatim}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{mice-mass-example}{%
\subsection{Mice Mass Example}\label{mice-mass-example}}

The time of day in which calories are consumed can affect weight gain. At least, that appears to be true in mice. Mice normally eat all their calories at night, but when mice ate some of their calories during the day (when mice are supposed to be sleeping), they gained more weight even though all the mice ate the same total amount of calories. Here we look at the regression of body mass gain in grams, \texttt{BMGain}, against the percent of calories eaten during the day, \texttt{DayPct} for a study involving 27 mice. The R commands needed to answer the questions below are:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mice }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"https://raw.githubusercontent.com/deepbas/statdatasets/main/MICE.csv"}\NormalTok{)}
  
\FunctionTok{plot}\NormalTok{(BMGain }\SpecialCharTok{\textasciitilde{}}\NormalTok{ DayPct, }\AttributeTok{data=}\NormalTok{mice, }\AttributeTok{pch=}\DecValTok{19}\NormalTok{)}
\NormalTok{mice.lm }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(BMGain }\SpecialCharTok{\textasciitilde{}}\NormalTok{ DayPct, }\AttributeTok{data=}\NormalTok{mice)}
\NormalTok{mice.lm}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

Call:
lm(formula = BMGain ~ DayPct, data = mice)

Coefficients:
(Intercept)       DayPct  
     1.1128       0.1273  
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{cor}\NormalTok{(mice}\SpecialCharTok{$}\NormalTok{BMGain, mice}\SpecialCharTok{$}\NormalTok{DayPct)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.7398623
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{abline}\NormalTok{(mice.lm) }\CommentTok{\# adds regression line to previously created scatterplot}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_6_files/figure-latex/unnamed-chunk-22-1}

(a). What are the coordinates (roughly) of the case with the largest positive residual?

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mice[}\FunctionTok{which}\NormalTok{(}\FunctionTok{resid}\NormalTok{(mice.lm) }\SpecialCharTok{==} \FunctionTok{max}\NormalTok{(}\FunctionTok{resid}\NormalTok{(mice.lm))),]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
    X Light BMGain Corticosterone DayPct Consumption
25 25    LL   17.4         66.679 81.636       7.177
   GlucoseInt   GTT15  GTT120 Activity
25        Yes 435.644 405.941     6702
\end{verbatim}

Click for answer

\emph{Answer:} The case with the largest residual is located at about 80\% calories and 17g body mass gain. We can find which row this corresponds to using the \texttt{which} command shown below.

(b). What are the coordinates (roughly) of the case with the most negative residual?

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mice[}\FunctionTok{which}\NormalTok{(}\FunctionTok{resid}\NormalTok{(mice.lm) }\SpecialCharTok{==} \FunctionTok{min}\NormalTok{(}\FunctionTok{resid}\NormalTok{(mice.lm))),]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
    X Light BMGain Corticosterone DayPct Consumption
10 10    DM   3.42         208.26 55.051       3.857
   GlucoseInt   GTT15  GTT120 Activity
10         No 271.717 148.485     1084
\end{verbatim}

Click for answer

\emph{Answer:} The case with the most negative residual is located at about 55\% calories and 3g body mass gain. We can find which row this corresponds to using the \texttt{which} command shown below. The code below also highlights the cases in (a) with a circle and (b) with a square.

(c). What is the predicted body mass gain for a mouse that eats 50\% of its calories during the day?

\[
\widehat{BMGain} =1.1128+0.1273(50)=7.48
\]

\begin{Shaded}
\begin{Highlighting}[]
\FloatTok{1.1128} \SpecialCharTok{+}\NormalTok{ .}\DecValTok{1273}\SpecialCharTok{*}\DecValTok{50}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 7.4778
\end{verbatim}

Click for answer

\emph{Answer:} A mouse that eats 50\% of its calories during the day is predicted to gain 7.48 grams.

(d). Find the residual for the mouse who ate 48.3\% of its calories during the day and gained 5.82 grams.

Click for answer

\emph{Answer:} We first find the predicted body mass gain:
\[
\widehat{BMGain} = 1.1128+0.1273(48.3)=7.26
\]

The residual is then:\\
\[
Residual = BMGain  -   \widehat{BMGain} =  5.82  7.26 = 1.44.
\]

\begin{Shaded}
\begin{Highlighting}[]
\FloatTok{1.1128} \SpecialCharTok{+}\NormalTok{ .}\DecValTok{1273}\SpecialCharTok{*}\FloatTok{48.3}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 7.26139
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FloatTok{5.82} \SpecialCharTok{{-}}\NormalTok{ (}\FloatTok{1.1128} \SpecialCharTok{+}\NormalTok{ .}\DecValTok{1273}\SpecialCharTok{*}\FloatTok{48.3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] -1.44139
\end{verbatim}

(e). Interpret the slope of the regression line in context.

Click for answer

\emph{Answer:} The slope is 0.1273. When a mouse eats one more percent of its calories during the day, its predicted body mass gain goes up by 0.1273 grams.

(f). Interpret the intercept of the line in context, if it makes sense to do so.

Click for answer

\emph{Answer:} The intercept is 1.1128. A mouse who eats 0\% of its calories during the day (and all of them at night when a mouse normally eats all its food) is predicted to gain 1.11 grams. But this would be \textbf{extrapolation} because the range of observed percents is, roughly, 20-90. It does not make sense to interpret the intercept in this context.

(g). Use the correlation value to compute \(R^2\), then interpret (in context) the \(R^2\) value for this model.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{r }\OtherTok{\textless{}{-}} \FloatTok{0.7398623}
\NormalTok{r}\SpecialCharTok{\^{}}\DecValTok{2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.5473962
\end{verbatim}

(h). Get the value of \(R^2\) from the regression output, then interpret (in context) the \(R^2\) value for this model.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{summary}\NormalTok{(mice.lm)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

Call:
lm(formula = BMGain ~ DayPct, data = mice)

Residuals:
    Min      1Q  Median      3Q     Max 
-4.6990 -1.1694  0.0728  0.9174  5.8975 

Coefficients:
            Estimate Std. Error t value Pr(>|t|)    
(Intercept)  1.11280    1.38211   0.805    0.428    
DayPct       0.12727    0.02315   5.499 1.03e-05 ***
---
Signif. codes:  
0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 2.231 on 25 degrees of freedom
Multiple R-squared:  0.5474,    Adjusted R-squared:  0.5293 
F-statistic: 30.24 on 1 and 25 DF,  p-value: 1.032e-05
\end{verbatim}

Click for answer

\emph{Answer:} From \texttt{Multiple\ R-squared}, we get \(R^2 = 0.547\). The percent of calories that a mouse eats during the day explains about 55\% of the variability in weight gain for this study.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{forbes-example}{%
\subsection{Forbes Example}\label{forbes-example}}

In the mid 1800s, James D. Forbes conducted a experiments designed to determine if the atmospheric pressure at a given location can just be determined by the boiling temp of water at that location.

(a). Fit the linear regression of \texttt{Pressure} on \texttt{Temp}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{forbes }\OtherTok{\textless{}{-}}  \FunctionTok{read.csv}\NormalTok{(}\StringTok{"https://raw.githubusercontent.com/deepbas/statdatasets/main/forbes.csv"}\NormalTok{)}
\FunctionTok{plot}\NormalTok{(Pressure }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Temp, }\AttributeTok{data=}\NormalTok{forbes, }\AttributeTok{pch=}\DecValTok{19}\NormalTok{, }\AttributeTok{main =} \StringTok{"Pressure vs. Temp"}\NormalTok{)}
\NormalTok{forbes.lm }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(Pressure }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Temp, }\AttributeTok{data=}\NormalTok{forbes)}
\FunctionTok{abline}\NormalTok{(forbes.lm)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_6_files/figure-latex/unnamed-chunk-29-1}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{summary}\NormalTok{(forbes.lm)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

Call:
lm(formula = Pressure ~ Temp, data = forbes)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.25717 -0.11246 -0.05102  0.14283  0.64994 

Coefficients:
             Estimate Std. Error t value Pr(>|t|)    
(Intercept) -81.06373    2.05182  -39.51   <2e-16 ***
Temp          0.52289    0.01011   51.74   <2e-16 ***
---
Signif. codes:  
0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.2328 on 15 degrees of freedom
Multiple R-squared:  0.9944,    Adjusted R-squared:  0.9941 
F-statistic:  2677 on 1 and 15 DF,  p-value: < 2.2e-16
\end{verbatim}

\begin{itemize}
\tightlist
\item
  Describe the relationship between pressure and temp (strength, form, direction).
\end{itemize}

Click for answer

\emph{Answer:} This is a strong, positive relationship that looks linear.

\begin{itemize}
\tightlist
\item
  Interpret the value of \(R^2\)
\end{itemize}

Click for answer

\emph{Answer:} About 99.4\% of the variation observed in pressure can be explained by the boiling point temps.

(b). Check the residuals plot

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{plot}\NormalTok{(}\FunctionTok{resid}\NormalTok{(forbes.lm) }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Temp, }\AttributeTok{data=}\NormalTok{forbes, }\AttributeTok{pch=}\DecValTok{19}\NormalTok{, }\AttributeTok{main =} \StringTok{"Residuals plot"}\NormalTok{)}
\FunctionTok{abline}\NormalTok{(}\AttributeTok{h=}\DecValTok{0}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_6_files/figure-latex/unnamed-chunk-30-1}

\begin{itemize}
\tightlist
\item
  Is the relationship between pressure and temp linear?
\end{itemize}

Click for answer

\emph{Answer:} No! There is curvature, which means the linear model is systematically underestimating pressure at low and high temps and overestimating pressure at mid-range temps.

\begin{itemize}
\tightlist
\item
  Does the residual plot highlight an unusual case? Explain.
\end{itemize}

Click for answer

\emph{Answer:} Yes, there is one case that has an unusually high pressure value given its temp.

(c). ``Fixing'' the model

A linear model can be used with this data if we \textbf{transform} the response variable to the logarithmic scale. Here \texttt{log(y)} gives the natural log of the variable \texttt{y}.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{plot}\NormalTok{(}\FunctionTok{log}\NormalTok{(Pressure) }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Temp, }\AttributeTok{data=}\NormalTok{forbes, }\AttributeTok{pch=}\DecValTok{19}\NormalTok{, }\AttributeTok{main =} \StringTok{"Pressure vs. Temp"}\NormalTok{)}
\NormalTok{forbes.lm2 }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(}\FunctionTok{log}\NormalTok{(Pressure) }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Temp, }\AttributeTok{data=}\NormalTok{forbes)}
\FunctionTok{abline}\NormalTok{(forbes.lm2)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_6_files/figure-latex/unnamed-chunk-31-1}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{plot}\NormalTok{(}\FunctionTok{resid}\NormalTok{(forbes.lm2) }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Temp, }\AttributeTok{data=}\NormalTok{forbes, }\AttributeTok{pch=}\DecValTok{19}\NormalTok{, }\AttributeTok{main =} \StringTok{"Residuals plot"}\NormalTok{)}
\FunctionTok{abline}\NormalTok{(}\AttributeTok{h=}\DecValTok{0}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_6_files/figure-latex/unnamed-chunk-31-2}

\begin{itemize}
\tightlist
\item
  Has the curvature in the scatterplot and residuals plots been reduced by logging the variables?
\end{itemize}

Click for answer

\emph{Answer:} Yes, there is less curvature

\begin{itemize}
\tightlist
\item
  Has the outlier been eliminated by logging the variables?
\end{itemize}

Click for answer

\emph{Answer:} No, the outlier is still present.

(d). Removing bad measurement

Identify which case has the large residual value around 0.03.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{resid}\NormalTok{(forbes.lm2)[}\FunctionTok{which}\NormalTok{(}\FunctionTok{resid}\NormalTok{(forbes.lm2) }\SpecialCharTok{\textgreater{}} \FloatTok{0.02}\NormalTok{)]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
        12 
0.03131388 
\end{verbatim}

Repeat part (c) but this time remove the case you identified. The easiest way to do this is to create a new version of the data with row 12 removed:

Click for answer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{forbes2 }\OtherTok{\textless{}{-}}\NormalTok{ forbes[}\SpecialCharTok{{-}}\DecValTok{12}\NormalTok{, ]}
\FunctionTok{plot}\NormalTok{(}\FunctionTok{log}\NormalTok{(Pressure) }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Temp, }\AttributeTok{data=}\NormalTok{forbes2, }\AttributeTok{pch=}\DecValTok{19}\NormalTok{, }\AttributeTok{main =} \StringTok{"Pressure vs. Temp"}\NormalTok{)}
\NormalTok{forbes.lm2 }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(}\FunctionTok{log}\NormalTok{(Pressure) }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Temp, }\AttributeTok{data=}\NormalTok{forbes2)}
\FunctionTok{abline}\NormalTok{(forbes.lm2)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_6_files/figure-latex/unnamed-chunk-33-1}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{plot}\NormalTok{(}\FunctionTok{resid}\NormalTok{(forbes.lm2) }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Temp, }\AttributeTok{data=}\NormalTok{forbes2, }\AttributeTok{pch=}\DecValTok{19}\NormalTok{, }\AttributeTok{main =} \StringTok{"Residuals plot"}\NormalTok{)}
\FunctionTok{abline}\NormalTok{(}\AttributeTok{h=}\DecValTok{0}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_6_files/figure-latex/unnamed-chunk-33-2}

\hypertarget{class-activity-7}{%
\chapter{Class Activity 7}\label{class-activity-7}}

\hypertarget{your-turn-1-5}{%
\section{Your Turn 1}\label{your-turn-1-5}}

\hypertarget{parameters-and-statistics}{%
\subsection{Parameters and Statistics}\label{parameters-and-statistics}}

Here are some notations that will be useful for you. Look for the codes to produce this in the associated Rmd file.

\begin{longtable}[]{@{}lll@{}}
\toprule()
~ & Parameter & Statistic \\
\midrule()
\endhead
Mean & \(\mu\) & \(\bar{x}\) \\
Proportion & \(p\) & \(\hat{p}\) \\
Std. Dev. & \(\sigma\) & \(s\) \\
Correlation & \(\rho\) & \(r\) \\
Slope & \(\beta\) & \(b\) \\
\bottomrule()
\end{longtable}

\vspace*{1in}

\hypertarget{example-1-parameters-and-statistics}{%
\subsection{Example 1: Parameters and Statistics}\label{example-1-parameters-and-statistics}}

For each of the following, state whether the quantity described is a parameter or a statistic, and give the correct notation.

(a). Average household income for all houses in the US, using data from the US census

Click for answer

\emph{Answer:} This is a parameter since the mean is for all houses in the US, and the notation is \(\mu\).

(b). The proportion of all residents in a county who voted in the last presidential election.

Click for answer

\emph{Answer:} This is a parameter since we have information on all the residents, and the notation is p.

(c). The difference in proportion who have ever smoked cigarettes, between a sample of 500 people who are 60 years old and a sample of 200 people who are 25 years old.

Click for answer

\emph{Answer:} We use statistics since the proportions are from samples. The notation for the difference in sample proportions is \(\hat{p}_1 - \hat{p}_2\)

(d). The correlation between weight and height for 5-year old kids.

Click for answer

\emph{Answer:} If we are looking at all 5-year old kids it is a parameter, and the notation for correlation is \(\rho\).

(e). The mean number of extracurricular activities from a random sample of 50 students at your school.

Click for answer

\emph{Answer:} This is a statistic since the mean is from a sample, and the notation is \(\mu\).

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{example-2-using-search-engines-on-the-internet}{%
\section{Example 2: Using Search Engines on the Internet}\label{example-2-using-search-engines-on-the-internet}}

A 2012 survey of a random sample of 2253 US adults found that 1,329 of them reported using a search engine (such as Google) every day to find information on the Internet.

(a). Find the relevant proportion and give the correct notation with it.

Click for answer

\emph{Answer:} \(\hat{p} = 1329/2253\)

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p.hat }\OtherTok{\textless{}{-}} \DecValTok{1329}\SpecialCharTok{/}\DecValTok{2253}
\NormalTok{p.hat}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.5898802
\end{verbatim}

b). Is your answer to part (a) a parameter or a statistic?

Click for answer

\emph{Answer:} Statistic

c). Give notation for and define the population parameter that we estimate using the result of part (a).

Click for answer

\emph{Answer:} p = the proportion of all US adults that would report that they use an Internet search engine every day

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{example-3-simulation-of-a-sample-proportion}{%
\subsection{Example 3: Simulation of a Sample Proportion}\label{example-3-simulation-of-a-sample-proportion}}

According to a PEW survey, \(66\%\) of U.S. adult citizens casted a ballot in the 2020 election. Suppose we take a random sample of \(n=100\) eligible U.S. voters and computed the sample proportion who voted.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Define parameters}
\FunctionTok{set.seed}\NormalTok{(}\DecValTok{123}\NormalTok{) }\CommentTok{\# set seed for reproducibility}
\NormalTok{pop.prop }\OtherTok{\textless{}{-}}\NormalTok{ .}\DecValTok{66} \CommentTok{\# Population proportion}
\NormalTok{n.size }\OtherTok{\textless{}{-}} \DecValTok{100}  \CommentTok{\# sample size}
\end{Highlighting}
\end{Shaded}

(a). Generate a random sample of size \(n= 100\) and plot its sample proportion.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Generate 1 sample}
\NormalTok{sample1 }\OtherTok{\textless{}{-}} \FunctionTok{rbinom}\NormalTok{(}\AttributeTok{n =} \DecValTok{1}\NormalTok{, }\AttributeTok{size =}\NormalTok{ n.size, }\AttributeTok{p =}\NormalTok{ pop.prop) }\CommentTok{\# R simulates the samples}
\NormalTok{sample.prop1 }\OtherTok{\textless{}{-}}\NormalTok{ sample1}\SpecialCharTok{/}\NormalTok{n.size }\CommentTok{\#  Proportion = No. of Success / Sample Size}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Call the library}
\FunctionTok{library}\NormalTok{(ggplot2)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# define a data frame}
\NormalTok{mydata }\OtherTok{\textless{}{-}} \FunctionTok{data.frame}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sample.prop1)}

\CommentTok{\# Plot a dot plot of the sample proportion}
\FunctionTok{ggplot}\NormalTok{(mydata, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sample.prop1)) }\SpecialCharTok{+}
  \FunctionTok{geom\_dotplot}\NormalTok{(}\AttributeTok{dotsize=}\FloatTok{0.25}\NormalTok{, }\AttributeTok{stackratio=}\FloatTok{0.75}\NormalTok{, }\AttributeTok{binwidth=}\FloatTok{0.01}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{ggtitle}\NormalTok{(}\StringTok{"A single sample proportion"}\NormalTok{) }\SpecialCharTok{+}  \FunctionTok{xlab}\NormalTok{(}\StringTok{"Proportion"}\NormalTok{) }\SpecialCharTok{+} \FunctionTok{ylab}\NormalTok{(}\StringTok{"Count"}\NormalTok{)}\SpecialCharTok{+}
  \FunctionTok{scale\_x\_continuous}\NormalTok{(}\AttributeTok{limits =} \FunctionTok{c}\NormalTok{(}\FloatTok{0.4}\NormalTok{, }\FloatTok{0.9}\NormalTok{))}\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{hjust =} \FloatTok{0.5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_7_files/figure-latex/unnamed-chunk-5-1}

(b). Generate 5 random samples of size \(n= 100\) and plot the sample proportions.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# generate 5 random samples of size 100}
\NormalTok{sample5 }\OtherTok{\textless{}{-}} \FunctionTok{rbinom}\NormalTok{(}\AttributeTok{n =} \DecValTok{5}\NormalTok{, }\AttributeTok{size =}\NormalTok{ n.size, }\AttributeTok{p =}\NormalTok{ pop.prop)  }
\NormalTok{sample.prop5 }\OtherTok{\textless{}{-}}\NormalTok{ sample5}\SpecialCharTok{/}\NormalTok{n.size }

\NormalTok{data }\OtherTok{\textless{}{-}} \FunctionTok{data.frame}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sample.prop5)}

\FunctionTok{ggplot}\NormalTok{(data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sample.prop5)) }\SpecialCharTok{+}
  \FunctionTok{geom\_dotplot}\NormalTok{(}\AttributeTok{dotsize=}\FloatTok{0.25}\NormalTok{, }\AttributeTok{stackratio=}\FloatTok{0.9}\NormalTok{, }\AttributeTok{binwidth=}\FloatTok{0.01}\NormalTok{ )}\SpecialCharTok{+}
  \FunctionTok{ggtitle}\NormalTok{(}\StringTok{""}\NormalTok{) }\SpecialCharTok{+}  \FunctionTok{xlab}\NormalTok{(}\StringTok{"Proportion"}\NormalTok{) }\SpecialCharTok{+} \FunctionTok{ylab}\NormalTok{(}\StringTok{"Count"}\NormalTok{)}\SpecialCharTok{+}
  \FunctionTok{scale\_x\_continuous}\NormalTok{(}\AttributeTok{limits =} \FunctionTok{c}\NormalTok{(}\FloatTok{0.4}\NormalTok{, }\FloatTok{0.9}\NormalTok{))}\SpecialCharTok{+} 
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{hjust =} \FloatTok{0.5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_7_files/figure-latex/unnamed-chunk-6-1}

(c). Generate 1000 random samples of size \(n= 100\) and plot the sample proportions.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Generate 1000 samples}
\NormalTok{sample1000 }\OtherTok{\textless{}{-}} \FunctionTok{rbinom}\NormalTok{(}\AttributeTok{n =} \DecValTok{1000}\NormalTok{, }\AttributeTok{size =}\NormalTok{ n.size, }\AttributeTok{p =}\NormalTok{ pop.prop)  }
\NormalTok{sample.prop1000 }\OtherTok{\textless{}{-}}\NormalTok{ sample1000}\SpecialCharTok{/}\NormalTok{n.size }

\NormalTok{data }\OtherTok{\textless{}{-}} \FunctionTok{data.frame}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sample.prop1000)}

\FunctionTok{ggplot}\NormalTok{(data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sample.prop1000)) }\SpecialCharTok{+}
  \FunctionTok{geom\_dotplot}\NormalTok{(}\AttributeTok{dotsize=}\FloatTok{0.25}\NormalTok{, }\AttributeTok{method =} \StringTok{"histodot"}\NormalTok{, }\AttributeTok{stackratio=}\FloatTok{0.9}\NormalTok{, }\AttributeTok{binwidth=}\FloatTok{0.01}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{ggtitle}\NormalTok{(}\StringTok{""}\NormalTok{) }\SpecialCharTok{+}  \FunctionTok{xlab}\NormalTok{(}\StringTok{"Proportion"}\NormalTok{) }\SpecialCharTok{+} \FunctionTok{ylab}\NormalTok{(}\StringTok{"Count"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_x\_continuous}\NormalTok{(}\AttributeTok{limits =} \FunctionTok{c}\NormalTok{(}\FloatTok{0.4}\NormalTok{, }\FloatTok{0.9}\NormalTok{))}\SpecialCharTok{+} 
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{hjust =} \FloatTok{0.5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_7_files/figure-latex/unnamed-chunk-7-1}

\emph{Question:} What does each dot represent?

\emph{Answer:} One sample proportion from a sample of n=100 eligible voters.

\emph{Question:} What is the shape of your sampling distribution?

\emph{Answer:} Roughly symmetric.

\emph{Question:} Where is your distribution centered?

\emph{Answer:} About 0.66, which is the population proportion.

\emph{Question:} The distribution should be centered at the population proportion. Verify that the distribution is centered around the population proportion, \(p = 0.66\).

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# r{-}code}
\FunctionTok{mean}\NormalTok{(sample.prop1000)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.65962
\end{verbatim}

\emph{Question:} What is the standard deviation of this distribution? (Hint: use the 95\% rule.)

\emph{Answer:} About 0.03, it looks like most sample proportions are between 0.55 to 0.75 so 2 standard deviations is about 0.10. This makes the SD about 0.05.

\emph{Question:} The standard deviation of sampling distribution has a separate name. It is called the \textbf{Standard Error}. Verify the standard deviation of this distribution using R-code.

\emph{Answer:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# r{-}code}
\FunctionTok{sd}\NormalTok{(sample.prop1000)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.0483176
\end{verbatim}

(d). Repeat part(c) with sample size 20 instead of 100. Generate 1000 samples.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Generate 1000 samples}
\NormalTok{n.size }\OtherTok{\textless{}{-}} \DecValTok{20}

\NormalTok{sample1000 }\OtherTok{\textless{}{-}} \FunctionTok{rbinom}\NormalTok{(}\AttributeTok{n =} \DecValTok{1000}\NormalTok{, }\AttributeTok{size =}\NormalTok{ n.size, }\AttributeTok{p =}\NormalTok{ pop.prop)  }
\NormalTok{sample.prop1000 }\OtherTok{\textless{}{-}}\NormalTok{ sample1000}\SpecialCharTok{/}\NormalTok{n.size }

\NormalTok{data }\OtherTok{\textless{}{-}} \FunctionTok{data.frame}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sample.prop1000)}

\FunctionTok{ggplot}\NormalTok{(data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sample.prop1000)) }\SpecialCharTok{+}
  \FunctionTok{geom\_dotplot}\NormalTok{(}\AttributeTok{dotsize=}\FloatTok{0.225}\NormalTok{, }\AttributeTok{method =} \StringTok{"histodot"}\NormalTok{, }\AttributeTok{stackratio=}\FloatTok{0.8}\NormalTok{, }\AttributeTok{binwidth=}\FloatTok{0.01}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{ggtitle}\NormalTok{(}\StringTok{""}\NormalTok{) }\SpecialCharTok{+}  \FunctionTok{xlab}\NormalTok{(}\StringTok{"Proportion"}\NormalTok{) }\SpecialCharTok{+} \FunctionTok{ylab}\NormalTok{(}\StringTok{"Count"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_x\_continuous}\NormalTok{(}\AttributeTok{limits =} \FunctionTok{c}\NormalTok{(}\FloatTok{0.3}\NormalTok{, }\FloatTok{0.9}\NormalTok{))}\SpecialCharTok{+} 
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{hjust =} \FloatTok{0.5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_7_files/figure-latex/unnamed-chunk-10-1}

\emph{Question:} How has the sampling distribution changed? (Shape? Center? Variability?)

\emph{Answer:} The shape is slightly left skewed, still centered at 0.66 but with more variability that before (SD of about 0.10). This distribution is more discrete looking because there are just a few sample proportions possible with n=20 (e.g.~20/20, 19/20, 18/20, etc).

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{mean}\NormalTok{(sample.prop1000)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.65885
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sd}\NormalTok{(sample.prop1000)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.1086093
\end{verbatim}

(e). Now suppose the population proportion is \(p=0.90\) instead of \(p=0.66\) in part (e). Keep n.size=20.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Generate 1000 samples}

\NormalTok{pop.prop }\OtherTok{\textless{}{-}} \FloatTok{0.90}
\NormalTok{n.size }\OtherTok{\textless{}{-}} \DecValTok{20}
\NormalTok{n.size }\OtherTok{\textless{}{-}} \DecValTok{20}

\NormalTok{sample1000 }\OtherTok{\textless{}{-}} \FunctionTok{rbinom}\NormalTok{(}\AttributeTok{n =} \DecValTok{1000}\NormalTok{, }\AttributeTok{size =}\NormalTok{ n.size, }\AttributeTok{p =}\NormalTok{ pop.prop)  }
\NormalTok{sample.prop1000 }\OtherTok{\textless{}{-}}\NormalTok{ sample1000}\SpecialCharTok{/}\NormalTok{n.size }

\NormalTok{data }\OtherTok{\textless{}{-}} \FunctionTok{data.frame}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sample.prop1000)}

\FunctionTok{ggplot}\NormalTok{(data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sample.prop1000)) }\SpecialCharTok{+}
  \FunctionTok{geom\_dotplot}\NormalTok{(}\AttributeTok{dotsize=}\FloatTok{0.21}\NormalTok{, }\AttributeTok{method =} \StringTok{"histodot"}\NormalTok{, }\AttributeTok{stackratio=}\FloatTok{0.8}\NormalTok{, }\AttributeTok{binwidth=}\FloatTok{0.01}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{ggtitle}\NormalTok{(}\StringTok{""}\NormalTok{) }\SpecialCharTok{+}  \FunctionTok{xlab}\NormalTok{(}\StringTok{"Proportion"}\NormalTok{) }\SpecialCharTok{+} \FunctionTok{ylab}\NormalTok{(}\StringTok{"Count"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_x\_continuous}\NormalTok{(}\AttributeTok{limits =} \FunctionTok{c}\NormalTok{(}\FloatTok{0.4}\NormalTok{, }\FloatTok{0.9}\NormalTok{))}\SpecialCharTok{+} 
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{hjust =} \FloatTok{0.5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_7_files/figure-latex/unnamed-chunk-12-1}

\emph{Question:} How has the sampling distribution changed? (Shape? Center? Variability?)

\emph{Answer:} The shape is much more left skewed than when p=0.66. Center is around 0.90 and SD is around 0.07. Note that increasing the population proportion closer to 1 results in a decrease in the SD because most samples give proportion near 1.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{mean}\NormalTok{(sample.prop1000)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.9028
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sd}\NormalTok{(sample.prop1000)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.06466329
\end{verbatim}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{example-4-simulation-for-a-sample-mean}{%
\subsection{Example 4: Simulation for a Sample Mean}\label{example-4-simulation-for-a-sample-mean}}

We'll look at sampling movies from the population of 134 Hollywood movies made in 2011 and measuring their budget (millions of dollars).

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# import dataset}
\FunctionTok{library}\NormalTok{(Lock5Data)}
\NormalTok{movies }\OtherTok{\textless{}{-}}\NormalTok{ HollywoodMovies2011}
\end{Highlighting}
\end{Shaded}

(a). What is the population mean of the \texttt{Budget}?

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# r{-}code}
\FunctionTok{mean}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{Budget, }\AttributeTok{na.rm =} \ConstantTok{TRUE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 53.48134
\end{verbatim}

(b). Generate a random sample of size \(n= 10\) and plot the sample proportion.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# define a data frame}
\NormalTok{n.size }\OtherTok{\textless{}{-}} \DecValTok{10}

\NormalTok{Budget }\OtherTok{\textless{}{-}}\NormalTok{ movies}\SpecialCharTok{$}\NormalTok{Budget[}\SpecialCharTok{!}\FunctionTok{is.na}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{Budget)] }\CommentTok{\# remove NAs}

\NormalTok{sample1 }\OtherTok{\textless{}{-}} \FunctionTok{sample}\NormalTok{(Budget, }\AttributeTok{size =}\NormalTok{ n.size) }
\NormalTok{sample.mean1 }\OtherTok{\textless{}{-}} \FunctionTok{mean}\NormalTok{(sample1)}

\NormalTok{mydata }\OtherTok{\textless{}{-}} \FunctionTok{data.frame}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sample.mean1)}

\CommentTok{\# Plot a dot plot of the sample proportion}
\FunctionTok{ggplot}\NormalTok{(mydata, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sample.mean1)) }\SpecialCharTok{+}
  \FunctionTok{geom\_dotplot}\NormalTok{(}\AttributeTok{dotsize=}\DecValTok{1}\NormalTok{, }\AttributeTok{stackratio=}\FloatTok{0.9}\NormalTok{, }\AttributeTok{binwidth=}\DecValTok{1}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{ggtitle}\NormalTok{(}\StringTok{"A single sample mean"}\NormalTok{) }\SpecialCharTok{+}  \FunctionTok{xlab}\NormalTok{(}\StringTok{"Sample mean"}\NormalTok{) }\SpecialCharTok{+} \FunctionTok{ylab}\NormalTok{(}\StringTok{"Count"}\NormalTok{)}\SpecialCharTok{+}
  \FunctionTok{scale\_x\_continuous}\NormalTok{(}\AttributeTok{limits =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{120}\NormalTok{))}\SpecialCharTok{+} 
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{hjust =} \FloatTok{0.5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_7_files/figure-latex/unnamed-chunk-16-1}

(c). Generate 5 random samples of size \(n= 10\) and plot the sample means.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{n.size }\OtherTok{\textless{}{-}} \DecValTok{10}
\NormalTok{n.rep }\OtherTok{\textless{}{-}} \DecValTok{5}

\NormalTok{Budget }\OtherTok{\textless{}{-}}\NormalTok{ movies}\SpecialCharTok{$}\NormalTok{Budget[}\SpecialCharTok{!}\FunctionTok{is.na}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{Budget)] }\CommentTok{\# remove NAs}

\NormalTok{sample5 }\OtherTok{\textless{}{-}} \FunctionTok{lapply}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\DecValTok{5}\NormalTok{, }\ControlFlowTok{function}\NormalTok{(i) }\FunctionTok{sample}\NormalTok{(Budget, }\AttributeTok{size =}\NormalTok{ n.size)) }
\NormalTok{sample.mean5 }\OtherTok{\textless{}{-}} \FunctionTok{lapply}\NormalTok{(sample5, }\ControlFlowTok{function}\NormalTok{(x) }\FunctionTok{mean}\NormalTok{(x)) }
\NormalTok{sample.mean5 }\OtherTok{\textless{}{-}} \FunctionTok{unlist}\NormalTok{(sample.mean5)}

\NormalTok{mydata }\OtherTok{\textless{}{-}} \FunctionTok{data.frame}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sample.mean5)}

\CommentTok{\# Plot a dot plot of the sample proportion}
\FunctionTok{ggplot}\NormalTok{(mydata, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sample.mean5)) }\SpecialCharTok{+}
  \FunctionTok{geom\_dotplot}\NormalTok{(}\AttributeTok{dotsize=}\FloatTok{0.9}\NormalTok{, }\AttributeTok{stackratio=}\FloatTok{0.9}\NormalTok{, }\AttributeTok{binwidth=}\DecValTok{1}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{ggtitle}\NormalTok{(}\StringTok{"A single sample mean"}\NormalTok{) }\SpecialCharTok{+}  \FunctionTok{xlab}\NormalTok{(}\StringTok{"Sample mean"}\NormalTok{) }\SpecialCharTok{+} \FunctionTok{ylab}\NormalTok{(}\StringTok{"Count"}\NormalTok{)}\SpecialCharTok{+}
  \FunctionTok{scale\_x\_continuous}\NormalTok{(}\AttributeTok{limits =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{120}\NormalTok{))}\SpecialCharTok{+} 
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{hjust =} \FloatTok{0.5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_7_files/figure-latex/unnamed-chunk-17-1}

(d). Generate 1000 random samples of size \(n= 10\) and plot the sample means.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Generate 1000 samples}
\NormalTok{n.size }\OtherTok{\textless{}{-}} \DecValTok{10}
\NormalTok{n.rep }\OtherTok{\textless{}{-}} \DecValTok{1000}

\NormalTok{Budget }\OtherTok{\textless{}{-}}\NormalTok{ movies}\SpecialCharTok{$}\NormalTok{Budget[}\SpecialCharTok{!}\FunctionTok{is.na}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{Budget)] }\CommentTok{\# remove NAs}

\NormalTok{sample1000 }\OtherTok{\textless{}{-}} \FunctionTok{lapply}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\NormalTok{n.rep, }\ControlFlowTok{function}\NormalTok{(i) }\FunctionTok{sample}\NormalTok{(Budget, }\AttributeTok{size =}\NormalTok{ n.size)) }
\NormalTok{sample.mean1000 }\OtherTok{\textless{}{-}} \FunctionTok{lapply}\NormalTok{(sample1000, }\ControlFlowTok{function}\NormalTok{(x) }\FunctionTok{mean}\NormalTok{(x)) }
\NormalTok{sample.mean1000 }\OtherTok{\textless{}{-}} \FunctionTok{unlist}\NormalTok{(sample.mean1000)}

\NormalTok{mydata }\OtherTok{\textless{}{-}} \FunctionTok{data.frame}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sample.mean1000)}

\CommentTok{\# Plot a dot plot of the sample proportion}
\FunctionTok{ggplot}\NormalTok{(mydata, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sample.mean1000)) }\SpecialCharTok{+}
  \FunctionTok{geom\_dotplot}\NormalTok{(}\AttributeTok{dotsize=}\DecValTok{1}\NormalTok{, }\AttributeTok{method =} \StringTok{"histodot"}\NormalTok{, }\AttributeTok{stackratio=}\FloatTok{0.9}\NormalTok{, }\AttributeTok{binwidth=}\DecValTok{1}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{ggtitle}\NormalTok{(}\StringTok{"A single sample mean"}\NormalTok{) }\SpecialCharTok{+}  \FunctionTok{xlab}\NormalTok{(}\StringTok{"Sample mean"}\NormalTok{) }\SpecialCharTok{+} \FunctionTok{ylab}\NormalTok{(}\StringTok{"Count"}\NormalTok{)}\SpecialCharTok{+}
  \FunctionTok{scale\_x\_continuous}\NormalTok{(}\AttributeTok{limits =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{120}\NormalTok{))}\SpecialCharTok{+} 
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{hjust =} \FloatTok{0.5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_7_files/figure-latex/unnamed-chunk-18-1}

\emph{Question:} What does each dot represent?

\emph{Answer:} A sample mean budget from a sample of n=10

\emph{Question:} What is the shape of your sampling distribution?

\emph{Answer:} Slightly right skewed.

\emph{Question:} Where is your distribution centered?

\emph{Answer:} About \$53 million, which is the population mean budget.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{mean}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{Budget, }\AttributeTok{na.rm =} \ConstantTok{TRUE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 53.48134
\end{verbatim}

\emph{Question:} The distribution should be centered at the population mean. Verify that the distribution is centered around the population mean, \(\mu = 53.48\).

\emph{Answer:} It is very close to the population mean.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# r{-}code}
\FunctionTok{mean}\NormalTok{(sample.mean1000)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 53.12677
\end{verbatim}

\emph{Question:} What is the standard deviation of this distribution? (Hint: use the 95\% rule.)

\emph{Answer:} About 15 million.

\emph{Question:} The standard deviation of sampling distribution has a separate name. It is called the \textbf{Standard Error}. Verify the standard deviation of this distribution using R-code.

\emph{Answer:} It is 14.80 million quite cose to our previous informed guess.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# r{-}code}
\FunctionTok{sd}\NormalTok{(sample.mean1000)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 15.0577
\end{verbatim}

(e). Repeat part(d) with sample size 50 instead of 10. Generate 1000 samples.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Generate 1000 samples}
\NormalTok{n.size }\OtherTok{\textless{}{-}} \DecValTok{50}
\NormalTok{n.rep }\OtherTok{\textless{}{-}} \DecValTok{1000}

\NormalTok{Budget }\OtherTok{\textless{}{-}}\NormalTok{ movies}\SpecialCharTok{$}\NormalTok{Budget[}\SpecialCharTok{!}\FunctionTok{is.na}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{Budget)] }\CommentTok{\# remove NAs}

\NormalTok{sample1000 }\OtherTok{\textless{}{-}} \FunctionTok{lapply}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\NormalTok{n.rep, }\ControlFlowTok{function}\NormalTok{(i) }\FunctionTok{sample}\NormalTok{(Budget, }\AttributeTok{size =}\NormalTok{ n.size)) }
\NormalTok{sample.mean1000 }\OtherTok{\textless{}{-}} \FunctionTok{lapply}\NormalTok{(sample1000, }\ControlFlowTok{function}\NormalTok{(x) }\FunctionTok{mean}\NormalTok{(x)) }
\NormalTok{sample.mean1000 }\OtherTok{\textless{}{-}} \FunctionTok{unlist}\NormalTok{(sample.mean1000)}

\NormalTok{mydata }\OtherTok{\textless{}{-}} \FunctionTok{data.frame}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sample.mean1000)}

\CommentTok{\# Plot a dot plot of the sample proportion}
\FunctionTok{ggplot}\NormalTok{(mydata, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ sample.mean1000)) }\SpecialCharTok{+}
  \FunctionTok{geom\_dotplot}\NormalTok{(}\AttributeTok{dotsize=}\DecValTok{1}\NormalTok{, }\AttributeTok{method =} \StringTok{"histodot"}\NormalTok{, }\AttributeTok{stackratio=}\FloatTok{0.9}\NormalTok{, }\AttributeTok{binwidth=}\DecValTok{1}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{ggtitle}\NormalTok{(}\StringTok{"A single sample mean"}\NormalTok{) }\SpecialCharTok{+}  \FunctionTok{xlab}\NormalTok{(}\StringTok{"Sample mean"}\NormalTok{) }\SpecialCharTok{+} \FunctionTok{ylab}\NormalTok{(}\StringTok{"Count"}\NormalTok{)}\SpecialCharTok{+}
  \FunctionTok{scale\_x\_continuous}\NormalTok{(}\AttributeTok{limits =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{120}\NormalTok{))}\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{hjust =} \FloatTok{0.5}\NormalTok{))}\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{hjust =} \FloatTok{0.5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_7_files/figure-latex/unnamed-chunk-22-1}

\emph{Question:} Is this sampling distribution more or less symmetric compared to the distribution when \(n=10\)?

\emph{Answer:} The distribution is more symmetric with n=50 than when n=10.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{example-5-effect-of-sample-size}{%
\subsection{Example 5: Effect of sample size}\label{example-5-effect-of-sample-size}}

Let's investigate the effect of sample size in the sampling distribution using the same setting as in Exercise 1 with \(p=0.66\). The following are three sampling distributions corresponding to different sample sizes.

\includegraphics[width=1\linewidth]{Class_Activity_7_files/figure-latex/unnamed-chunk-23-1}

\emph{Question:} What happens if we increase the sample size?

\emph{Answer:} When we increase the sample size, the variability of the sampling distribution becomes smaller.

\emph{Question:} Estimate the standard error of each and verify your answer to the previous question.

\emph{Answer:} The standard errors are

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sd}\NormalTok{(data.size}\FloatTok{.25}\SpecialCharTok{$}\NormalTok{x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.09011439
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sd}\NormalTok{(data.size}\FloatTok{.100}\SpecialCharTok{$}\NormalTok{x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.04093137
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sd}\NormalTok{(data.size}\FloatTok{.400}\SpecialCharTok{$}\NormalTok{x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.02311007
\end{verbatim}

As the sample size increases, the variability as measured by the standard error of the sampling distribution does indeed decrease.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{example-6-bootstrap-sampling}{%
\subsection{Example 6: Bootstrap Sampling}\label{example-6-bootstrap-sampling}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Movies Example Again!}
\NormalTok{Budget }\OtherTok{\textless{}{-}}\NormalTok{ movies}\SpecialCharTok{$}\NormalTok{Budget[}\SpecialCharTok{!}\FunctionTok{is.na}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{Budget)]}

\CommentTok{\# Bootstrap samples}
\NormalTok{n.size }\OtherTok{\textless{}{-}} \DecValTok{10}
\NormalTok{boot.sample1 }\OtherTok{\textless{}{-}} \FunctionTok{sample}\NormalTok{(Budget, }\DecValTok{10}\NormalTok{, }\AttributeTok{replace =} \ConstantTok{TRUE}\NormalTok{) }\CommentTok{\# sampling with replacement}

\NormalTok{n.rep }\OtherTok{\textless{}{-}} \DecValTok{1000}
\NormalTok{boot.sample1000 }\OtherTok{\textless{}{-}} \FunctionTok{lapply}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\NormalTok{n.rep, }\ControlFlowTok{function}\NormalTok{(i) }\FunctionTok{sample}\NormalTok{(Budget, }\DecValTok{10}\NormalTok{, }\AttributeTok{replace =} \ConstantTok{TRUE}\NormalTok{))}
\NormalTok{boot.samplemean1000 }\OtherTok{\textless{}{-}} \FunctionTok{lapply}\NormalTok{(boot.sample1000, }\ControlFlowTok{function}\NormalTok{(x) }\FunctionTok{mean}\NormalTok{(x))}
\NormalTok{boot.samplemean1000 }\OtherTok{\textless{}{-}} \FunctionTok{unlist}\NormalTok{(boot.samplemean1000)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Plot the bootstrap distribution}
\NormalTok{mydata }\OtherTok{\textless{}{-}} \FunctionTok{data.frame}\NormalTok{(}\AttributeTok{x =}\NormalTok{ boot.samplemean1000)}

\CommentTok{\# Plot a dot plot of the sample proportion}
\FunctionTok{ggplot}\NormalTok{(mydata, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ boot.samplemean1000)) }\SpecialCharTok{+}
  \FunctionTok{geom\_dotplot}\NormalTok{(}\AttributeTok{dotsize=}\FloatTok{0.9}\NormalTok{, }\AttributeTok{stackratio=}\FloatTok{0.9}\NormalTok{, }\AttributeTok{binwidth=}\DecValTok{1}\NormalTok{, }\AttributeTok{method =} \StringTok{"histodot"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{ggtitle}\NormalTok{(}\StringTok{"Sampling distribution for sample mean"}\NormalTok{) }\SpecialCharTok{+}  \FunctionTok{xlab}\NormalTok{(}\StringTok{"Sample mean"}\NormalTok{) }\SpecialCharTok{+} \FunctionTok{ylab}\NormalTok{(}\StringTok{"Count"}\NormalTok{)}\SpecialCharTok{+}
  \FunctionTok{scale\_x\_continuous}\NormalTok{(}\AttributeTok{limits =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{120}\NormalTok{))}\SpecialCharTok{+} 
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{hjust =} \FloatTok{0.5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_7_files/figure-latex/unnamed-chunk-26-1}

(a). Compare the center/spread/shape of the bootstrap distribution to the distribution computed in Ex. 4 (d). Answer all the questions in Ex. 4(d).

\emph{Answer:} The shape/center and variability of this bootstrap distribution is very similar to that of Ex 4 (d)

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{mean}\NormalTok{(mydata}\SpecialCharTok{$}\NormalTok{x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 53.23545
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sd}\NormalTok{(mydata}\SpecialCharTok{$}\NormalTok{x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 15.41347
\end{verbatim}

\hypertarget{class-activity-8}{%
\chapter{Class Activity 8}\label{class-activity-8}}

\hypertarget{example-1-textbook-prices}{%
\section{Example 1: Textbook Prices}\label{example-1-textbook-prices}}

Prices of a random sample of 10 textbooks (rounded to the nearest dollar) are shown:

\[ \$132 \quad \$87 \quad \$185 \quad \$52 \quad \$23 \quad \$147 \quad \$125 \quad \$93 \quad \$85 \quad \$72 \]

(a). What is the sample mean? Verify using r-code.

Click for answer

\emph{Answer:} The sample mean is \(\bar{x} = 100.1\)

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{prices }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{132}\NormalTok{,}\DecValTok{87}\NormalTok{, }\DecValTok{185}\NormalTok{, }\DecValTok{52}\NormalTok{, }\DecValTok{23}\NormalTok{, }\DecValTok{147}\NormalTok{, }\DecValTok{125}\NormalTok{, }\DecValTok{93}\NormalTok{, }\DecValTok{85}\NormalTok{, }\DecValTok{72}\NormalTok{)}
\FunctionTok{mean}\NormalTok{(prices)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 100.1
\end{verbatim}

(b). Describe carefully how we could use cards to create one bootstrap statistic from this sample. Be specific.

Click for answer

\emph{Answer:} We use 10 cards and write the 10 sample values on the cards. We then mix them up and draw one and record the value on it and put it back. Mix them up again, draw another, record the value, and put it back. Do this 10 times to get a ``with replacement'' sample of size 10. Then compute the sample mean of this bootstrap sample.

(c). We can easily instruct R to do this with a simple code as follows:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{resample }\OtherTok{\textless{}{-}} \FunctionTok{sample}\NormalTok{(prices, }\AttributeTok{replace =} \ConstantTok{TRUE}\NormalTok{)}
\NormalTok{resample}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
 [1] 125  72  93  85 185  93  23  23 125  23
\end{verbatim}

(d). Where will be bootstrap distribution be centered? What shape do we expect it to have?

\emph{Answer:} It will be centered approximately at the sample mean of 100.1 and we expect it to be roughly bellshaped (it may be a bit skewed since the sample size of 10 is smallish).

\vspace*{1.5in}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{example-2-statkey-atlanta-commute-distance}{%
\section{Example 2: Statkey Atlanta Commute Distance}\label{example-2-statkey-atlanta-commute-distance}}

Go to the website at \href{http://www.lock5stat.com/StatKey/}{Lock5Statkey}. Under the ``Bootstrap Confidence Intervals'' column, select the ``CI for Single Mean, Median, St.Dev''. Change the data set to Atlanta Commute (Distance). This data set gives a random sample of 500 worker commute distances (miles) for metropolitan Atlanta

(a). Use the ``Original Sample'' pane to determine the shape of these 500 commuter distances, along with their mean and standard deviation. Write down these stats using correct notation.

Click for answer

\emph{Answer:} The sample mean is \(\bar{x} = 18.16\) and the sample standard deviation is \(s = 13.798\).

(b). Click ``Generate 1 Sample'' to create one bootstrap sample from this data. Explain how this sample was generated. Use the ``Bootstrap Sample'' pane to find the bootstrap statistic that was computed from this sample. What value is this bootstrap statistic? Repeat this a couple times.

Click for answer

\emph{Answer:} The bootstrap sample was obtained by resampling from the 500 observed commute distances with
replacement. Basically we randomly select 500 distances from the data (with replacement).

The value of the bootstrap mean will vary.

(c). Now click the ``Generate 1000 Samples'' to get 1000 bootstrap sample means. Is the bootstrap distribution centered at the population or sample mean commute distance?

\emph{Answer:} The bootstrap distribution is always centered around the statistic that is being bootstrapped. Here it will be centered around the sample mean commute distance of about 18.16 miles. The population mean
commute distance is unknown!

(d). What is the bootstrap SE for the sample mean?

\emph{Answer:} The standard error from the bootstrap distribution is about 0.628.

(e). Compute a 95\% confidence interval for the average commute distance in metropolitan Atlanta.

\emph{Answer:} The sample mean is \(\bar{x} = 18.16\) and the standard error from the bootstrap distribution is about 0.618 so we compute the \(95\%\) confidence interval using \(18.16 \pm 2(0.628)\), giving an interval of 16.90 to 19.42 miles.

(f). Interpret your answer to (e) in context.

\emph{Answer:} We are 95\% confident that the average commuting distance in metropolitan Atlanta is between 16.90 and 19.42 miles.

\vspace*{1.5in}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{example-3-statkey-global-warming}{%
\section{Example 3: Statkey Global Warming}\label{example-3-statkey-global-warming}}

What percentage of Americans believe in global warming? A survey on 2,251 randomly selected individuals
conducted in October 2010 found that 1,328 answered Yes to the question ``Is there solid evidence of global
warming?'' To compute a bootstrap confidence interval for the proportion of all Americans who believe in
global warming, go to the website at \href{http://www.lock5stat.com/StatKey/}{Lock5Statkey}. Under the ``Bootstrap Confidence Intervals'' column, select the ``CI for Single Proportion''.

(a). Enter the data for this survey by clicking the ``Edit Data'' button. Enter 2251 as the sample size and 1328 as the count. What is the sample proportion of people who believe in global warming? Use correct notation!

Click for answer

\emph{Answer:} The sample proportion is \(\hat{p} = 0.59\).

(b). Generate 1 bootstrap sample. Explain how this sample was generated. Use the ``Bootstrap Sample'' pane to find the bootstrap statistic that was computed from this sample. What value is this bootstrap statistic? Repeat this a couple times.

Click for answer

\emph{Answer:} The bootstrap sample was obtained by resampling the observed answers (``yes'' and ``no'') to the global warming question with replacement. Answers will vary for the bootstrap statistic (proportion)

(c). Generate 1000 samples to get 1000 bootstrap sample proportions. Is the bootstrap distribution centered at the population or sample proportion? Describe the shape and center of this bootstrap distribution

Click for answer

\emph{Answer:} The shape is symmetric around a center value of about 0.59, which is the sample proportion not the population proportion (which is unknown).

(d). Compute a 95\% confidence interval for the proportion of Americans who believe in global warming

Click for answer

\emph{Answer:} The sample proportion is \(\hat{p} = 0.59\) and the standard error from the bootstrap distribution is 0.010 so we compute the 95\% confidence interval using \(0.590 \pm 2(0.010),\) giving an interval of 0.57 to 0.61.

(e). Interpret your interval from part (d).

\emph{Answer:} We are 95\% confident that the proportion of Americans who believe there is solid evidence of global warming is between 0.57 and 0.61.

(f). Does this data support a claim that a majority of Americans believe there is solid evidence of global warming? Explain.

\emph{Answer:} Yes, the data does support this claim since we are confident that at least 50\% of Americans believe in global warming since the lower bound on the CI is 57\%.

\hypertarget{section}{%
\section{\texorpdfstring{\vspace*{1.5in}}{}}\label{section}}

\hypertarget{example-4.-statkey-global-warming-by-political-party}{%
\section{Example 4. Statkey Global Warming by Political Party}\label{example-4.-statkey-global-warming-by-political-party}}

Does belief in global warming differ by political party? When the question ``Is there solid evidence of global warming?'' was asked, the sample proportion answering ``yes'' was 79\% among Democrats and 38\% among
Republicans. To compute a bootstrap confidence interval for the difference in the proportion of Democrats
and Republicans who believe in global warming, go to the website at \href{http://www.lock5stat.com/StatKey/}{Lock5Statkey}. Under the ``Bootstrap Confidence Intervals'' column, select the ``CI for Difference in Proportions''.

(a). Enter the data for this survey by clicking the ``Edit Data'' button. One big assumption we will make is that the sample sizes for both groups (Dems and Reps) were each 1000. Enter the Democrat data into the ``Group 1'' boxes (count of 790 and size of 1000) and the Republican data into the ``Group 2'' boxes (count of 380 and size of 1000). Verify that the sample proportions for the two groups are 79\% and 38\%. What is the difference in the two sample proportions? Use correct notation.

Click for answer

\emph{Answer:} The sample difference in proportions is \(\hat{p}_{Dem} - \hat{p}_{Rep} = 0.79 - 0.38 = 0.41\)

(b). Generate 1 bootstrap sample. Explain how this sample was generated (give this some thought now that you have two samples of data). Use the ``Bootstrap Sample'' pane to find the bootstrap statistic that was computed from this sample. What value is this bootstrap statistic? Repeat this a couple times.

Click for answer

\emph{Answer:} One bootstrap sample was obtained from the group 1 sample (resampling the observed ``believe/not believe'' responses with replacement) and a separate bootstrap sample was obtained from the group 2 sample. The difference in the bootstrap proportions for each group was computed for the bootstrap difference statistic.

For individual bootstrap samples: answers will vary.

(c). Generate 1000 samples to get 1000 bootstrap sample proportion differences. Describe the shape and center of this bootstrap distribution

Click for answer

\emph{Answer:} The shape is symmetric around a center value of about 0.41 (the sample difference in proportions).

(d). Compute a 95\% confidence interval for the difference between the proportion of Democrats and Republicans who believe in global warming.

Click for answer

\emph{Answer:}
The sample difference in proportions is \(\hat{p}_{Dem} - \hat{p}_{Rep} = 0.79 - 0.38 = 0.41\), the standard error from the bootstrap distribution is 0.020 so we compute the 95\% confidence interval using \(0.41 \pm 2(0.020)\) giving an interval of 0.37 to 0.45.

(e). Interpret your interval from part (d) in context and without using the word difference!! (i.e.~give a directional claim that uses words like ``more'' or ``less'')

Click for answer

\emph{Answer:} We are 95\% confident that the percent of Democrats who believe there is solid evidence of global warming is between 37 and 45 percentage points higher than the percent of Republicans who believe this.

(f). To compute this interval, we assumed that 1000 people were sampled from each subpopulation (Dems and Reps). Suppose this sample size was just 500 people for each group. Would your 95\% confidence interval be wider or shorter than the one computed in part (d)? Explain.

Click for answer

\emph{Answer:} With fewer people in each group, we will get a larger bootstrap SE and hence a larger margin of error for the CI. Remember that the SE of a sampling distribution gets smaller as the sample size increases, the same behavior is seen in a bootstrap distribution.

\hypertarget{example-5-statkey-body-temperature}{%
\section{Example 5: Statkey Body Temperature}\label{example-5-statkey-body-temperature}}

Is normal body temperature really \(98.6^{\circ}\) F? A sample of body temperature for 50 healthy individuals was taken. Find this dataset in StatKey under ``Confidence Interval for a Mean.''

(a). What is the sample mean? What is the sample standard deviation? Use correct notation for each

Click for answer

\emph{Answer:} \(\bar{x} = 98.26\) and \(s = 0.765\).

(b). Generate a bootstrap distribution, using at least 1000 simulated statistics. What is the standard
error?

Click for answer

\emph{Answer:} SE \(\approx\) 0.108. Answers will vary slightly with different simulations (see output below).

\begin{enumerate}
\def\labelenumi{(\alph{enumi})}
\setcounter{enumi}{2}
\tightlist
\item
  Use the standard error to find a 95\% confidence interval. Show your work. Is 98.6 in the interval?
\end{enumerate}

Click for answer

\emph{Answer:} \[ \bar{x} \pm 2*SE\]
\[98.26 \pm 2(0.108) \]
\[(98.04, 98.48) \]
We see that 98.6 is not on the interval.

\vspace*{1.5in}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{example-6.-bootstrap-in-r-using-hollywood-2011-dataset}{%
\section{Example 6. Bootstrap in R using Hollywood 2011 dataset!}\label{example-6.-bootstrap-in-r-using-hollywood-2011-dataset}}

We'll look at sampling movies from the population of 134 Hollywood movies made in 2011 and measuring their budget (millions of dollars). Construct a bootstrap sampling distribution for budgets (in millions of dollars) of all movies to come out of Hollywood in 2011, using samples of size n = 50.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# import dataset}
\NormalTok{movies }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"https://raw.githubusercontent.com/deepbas/statdatasets/main/HollywoodMovies2011.csv"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{(\alph{enumi})}
\tightlist
\item
  Generate 1 sample of size 50 with replacement from the \texttt{Budget} variable. If there are any \texttt{NA} values, they should be removed first.
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# remove the NA values}
\NormalTok{Budget }\OtherTok{\textless{}{-}}\NormalTok{ movies}\SpecialCharTok{$}\NormalTok{Budget[}\SpecialCharTok{!}\FunctionTok{is.na}\NormalTok{(movies}\SpecialCharTok{$}\NormalTok{Budget)]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Bootstrap samples}
\NormalTok{n.size }\OtherTok{\textless{}{-}} \DecValTok{50}
\NormalTok{boot.sample1 }\OtherTok{\textless{}{-}} \FunctionTok{sample}\NormalTok{(Budget, }\AttributeTok{size =}\NormalTok{ n.size, }\AttributeTok{replace =} \ConstantTok{TRUE}\NormalTok{) }\CommentTok{\# sampling with replacement}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{(\alph{enumi})}
\setcounter{enumi}{2}
\tightlist
\item
  Generate 1000 samples of size 50 with replacement from the redefined \texttt{Budget} variable in part (a). There are many methods to do this. We will use \texttt{lapply} function to do this simulation faster. Using \texttt{lapply} we can apply functions to a list or vector.
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{n.rep }\OtherTok{\textless{}{-}} \DecValTok{1000}
\CommentTok{\# replicate the sampling with replacement 1000 times}
\NormalTok{boot.sample1000 }\OtherTok{\textless{}{-}} \FunctionTok{lapply}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\NormalTok{n.rep, }\ControlFlowTok{function}\NormalTok{(x) }\FunctionTok{sample}\NormalTok{(Budget, }\AttributeTok{size =}\NormalTok{ n.size, }\AttributeTok{replace =} \ConstantTok{TRUE}\NormalTok{))}

\CommentTok{\# Calculate the mean of each resample}
\NormalTok{boot.samplemean1000 }\OtherTok{\textless{}{-}} \FunctionTok{lapply}\NormalTok{(boot.sample1000, }\ControlFlowTok{function}\NormalTok{(x) }\FunctionTok{mean}\NormalTok{(x))}

\CommentTok{\# Transform the list back to a vector for further computations}
\NormalTok{boot.samplemean1000 }\OtherTok{\textless{}{-}} \FunctionTok{unlist}\NormalTok{(boot.samplemean1000)}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{(\alph{enumi})}
\setcounter{enumi}{3}
\tightlist
\item
  Make a dotplot of the 1000 sample means calculated in part (c). The function to do this in \texttt{ggplot2} is \texttt{geom\_dotplot}. There are two methods for binning the data values. \texttt{dotdensity} is the default option for dot-density binning and \texttt{histodot} is for fixed bin width like a histogram.
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Plot the bootstrap distribution}

\NormalTok{boot.samples }\OtherTok{\textless{}{-}} \FunctionTok{data.frame}\NormalTok{(}\AttributeTok{samples =}\NormalTok{ boot.samplemean1000) }\CommentTok{\# define a data frame}

\CommentTok{\# Plot a dot plot of the sample proportion}
\FunctionTok{ggplot}\NormalTok{(boot.samples, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ samples)) }\SpecialCharTok{+}
  \FunctionTok{geom\_dotplot}\NormalTok{(}\AttributeTok{dotsize=}\FloatTok{0.9}\NormalTok{, }\AttributeTok{stackratio=}\FloatTok{0.9}\NormalTok{, }\AttributeTok{binwidth=}\DecValTok{1}\NormalTok{, }\AttributeTok{method =} \StringTok{"histodot"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{xlab}\NormalTok{(}\StringTok{"Sample mean"}\NormalTok{) }\SpecialCharTok{+} \FunctionTok{ylab}\NormalTok{(}\StringTok{"Count"}\NormalTok{)}\SpecialCharTok{+}
  \FunctionTok{scale\_x\_continuous}\NormalTok{(}\AttributeTok{limits =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{120}\NormalTok{))}\SpecialCharTok{+} 
  \FunctionTok{ggtitle}\NormalTok{(}\StringTok{"Bootstrap sampling distribution for sample mean"}\NormalTok{) }\SpecialCharTok{+}  
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{hjust =} \FloatTok{0.5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_8_files/figure-latex/unnamed-chunk-7-1}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{example-7-the-data-set-creditdata.csv-contains-records-for-1000-loans-that-either-defaulted-badloan-or-did-not-default-goodloan.-there-are-300-loans-that-defaulted-and-700-that-did-not.-lets-consider-that-the-300-loans-that-defaulted-are-random-sample-of-loans-that-default-and-the-700-non-defaulting-loans-are-a-random-sample-of-loans-that-dont-default.}{%
\section{Example 7: The data set CreditData.csv contains records for 1000 loans that either defaulted (BadLoan) or did not default (GoodLoan). There are 300 loans that defaulted and 700 that did not. Let's consider that the 300 loans that defaulted are random sample of loans that default and the 700 non-defaulting loans are a random sample of loans that don't default.}\label{example-7-the-data-set-creditdata.csv-contains-records-for-1000-loans-that-either-defaulted-badloan-or-did-not-default-goodloan.-there-are-300-loans-that-defaulted-and-700-that-did-not.-lets-consider-that-the-300-loans-that-defaulted-are-random-sample-of-loans-that-default-and-the-700-non-defaulting-loans-are-a-random-sample-of-loans-that-dont-default.}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{credit }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"https://raw.githubusercontent.com/deepbas/statdatasets/main/CreditData.csv"}\NormalTok{)}
\FunctionTok{table}\NormalTok{(credit}\SpecialCharTok{$}\NormalTok{Good.Loan)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

 BadLoan GoodLoan 
     300      700 
\end{verbatim}

\begin{enumerate}
\def\labelenumi{(\alph{enumi})}
\tightlist
\item
  Visualize age vs.~default
\end{enumerate}

The variable \texttt{Age.in.years} gives the age of the person who received the loan. Construct a side-by-side boxplot of age by \texttt{Good.Loan} and compute the sample means for each group.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{boxplot}\NormalTok{(Age.in.years }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Good.Loan, }\AttributeTok{data=}\NormalTok{credit)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_8_files/figure-latex/unnamed-chunk-9-1}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{tapply}\NormalTok{(credit}\SpecialCharTok{$}\NormalTok{Age.in.years, credit}\SpecialCharTok{$}\NormalTok{Good.Loan, mean)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
 BadLoan GoodLoan 
33.96333 36.22429 
\end{verbatim}

\begin{itemize}
\tightlist
\item
  What are the mean ages in each group?
\end{itemize}

Click for answer

\emph{Answer:} 34.0 years for the bad loan group and 36.2 years for the good loan group.

\begin{itemize}
\tightlist
\item
  Describe the distribution of ages in each group. Are there any outliers that could be overly influential on the value(s) of the sample mean(s)?
\end{itemize}

Click for answer

\emph{Answer:} Both age distributions are somewhat right skewed with a few outliers identified by the boxplot rule. But there aren't any extremely unusual cases.

\begin{enumerate}
\def\labelenumi{(\alph{enumi})}
\setcounter{enumi}{1}
\tightlist
\item
  Bootstrap CI for a difference in means
\end{enumerate}

The \texttt{boot(y\ \textasciitilde{}\ x,\ data=)} command generates 10000 bootstrap samples for the true difference in means of \texttt{y} for each of the two groups in \texttt{x}. The command is contained in the \texttt{CarletonStats} package. Here we use it to compute the bootstrap distribution for the difference in mean ages of the two default groups:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(CarletonStats)}
\FunctionTok{boot}\NormalTok{(Age.in.years }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Good.Loan, }\AttributeTok{data=}\NormalTok{credit)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

    ** Bootstrap interval for difference of statistic

 Observed difference of statistic:  BadLoan - GoodLoan =  -2.26095 
 Mean of bootstrap distribution: -2.26389 
 Standard error of bootstrap distribution: 0.77196 

 Bootstrap percentile interval
      2.5%      97.5% 
-3.7533452 -0.7433095 

        *--------------*
\end{verbatim}

\includegraphics[width=1\linewidth]{Class_Activity_8_files/figure-latex/unnamed-chunk-10-1}

\begin{itemize}
\tightlist
\item
  Give the difference in sample mean ages reported by the output. Use correct notation.
\end{itemize}

Click for answer

\emph{Answer:} The average age of people with a bad loan is about 2.3 years less than the average age of people with a good loan.

\begin{itemize}
\tightlist
\item
  Give the 95\% confidence interval for the difference in mean ages using the percentile method
\end{itemize}

Click for answer

\emph{Answer:} The percentile interval is -3.8 to -0.7 years.

\begin{itemize}
\tightlist
\item
  Compute the 95\% confidence interval for the difference in mean ages using the bootstrap SE. Is it similar to the CI from the percentile method?
\end{itemize}

Click for answer

\emph{Answer:} The CI using the SE is -3.8 to -0.7. The intervals are very similar.

\[
-2.26095 \pm 2(0.77852) = (-3.81799,  -0.70391)
\]

\begin{Shaded}
\begin{Highlighting}[]
\SpecialCharTok{{-}}\FloatTok{2.26095} \SpecialCharTok{{-}} \DecValTok{2}\SpecialCharTok{*}\NormalTok{(}\FloatTok{0.77852}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] -3.81799
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\SpecialCharTok{{-}}\FloatTok{2.26095} \SpecialCharTok{+} \DecValTok{2}\SpecialCharTok{*}\NormalTok{(}\FloatTok{0.77852}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] -0.70391
\end{verbatim}

\begin{enumerate}
\def\labelenumi{(\alph{enumi})}
\setcounter{enumi}{2}
\tightlist
\item
  Interpret
\end{enumerate}

Interpret your percentile interval in context using a directional statement. Does this interval suggest that the mean ages differ in the population of all good and bad loan holders?

Click for answer

\emph{Answer:} We are 95\% confident that the mean age of people who default on a loan for this population is about 0.7 to 3.8 years less than the mean age of people who do not default. This interval does support the notation that there is a difference in mean ages of these two groups in the population. It suggests that the average age of people who default is less than the average age of those who don't.

\hypertarget{example-8-credit-data-continued}{%
\section{Example 8 : Credit data continued}\label{example-8-credit-data-continued}}

The variable \texttt{Telephone} tells us if the individual has a phone number on their loan file. Let's look at the proportion of individuals who have a phone number for each type of loan (default or not).

(a). Data clean up
The entries in the \texttt{Telephone} column are either \texttt{none} or \texttt{yes,\ registered\ under\ the\ customers\ name}.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{table}\NormalTok{(credit}\SpecialCharTok{$}\NormalTok{Telephone)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

                                    none 
                                     596 
yes, registered under the customers name 
                                     404 
\end{verbatim}

To make shorter names describing these two outcomes, we can use the \texttt{levels} command on the factor variable \texttt{Telephone}. Here we see what the original levels are for this variable:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{levels}\NormalTok{(credit}\SpecialCharTok{$}\NormalTok{Telephone)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
NULL
\end{verbatim}

This shows us the (vector) of two names. We can assign new, shorter names to this variable:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{levels}\NormalTok{(credit}\SpecialCharTok{$}\NormalTok{Telephone) }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\StringTok{"no"}\NormalTok{, }\StringTok{"yes"}\NormalTok{)}
\FunctionTok{table}\NormalTok{(credit}\SpecialCharTok{$}\NormalTok{Telephone)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

                                    none 
                                     596 
yes, registered under the customers name 
                                     404 
\end{verbatim}

Now we have the same data, just coded with different names.

(b). Phone rate by default type

Here we get the distribution of phone numbers (yes or no) by default type (good vs bad loan):

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(credit}\SpecialCharTok{$}\NormalTok{Good.Loan, credit}\SpecialCharTok{$}\NormalTok{Telephone),}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
          
                none
  BadLoan  0.6233333
  GoodLoan 0.5842857
          
           yes, registered under the customers name
  BadLoan                                 0.3766667
  GoodLoan                                0.4157143
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{ggplot}\NormalTok{(credit, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{Good.Loan, }\AttributeTok{fill=}\NormalTok{Telephone)) }\SpecialCharTok{+} \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{position=}\StringTok{"fill"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{Class_Activity_8_files/figure-latex/unnamed-chunk-15-1}

\begin{itemize}
\tightlist
\item
  What proportion of bad loans have a phone number on the account?
\end{itemize}

Click for answer

\emph{Answer:} About 37.7\% of bad loans have a phone number.

\begin{itemize}
\tightlist
\item
  What proportion of good loans have a phone number on the account?
\end{itemize}

Click for answer

\emph{Answer:} About 41.6\% of good loans have a phone number.

\begin{itemize}
\tightlist
\item
  What is the sample difference in the proportion of good loans and bad loans that have a phone number? Use correct notation for this number.
\end{itemize}

Click for answer

\emph{Answer:} Here we get \(\hat{p}_{good} - \hat{p}_{bad} =0.4157143 - 0.3766667 = 0.0390476\).

\begin{Shaded}
\begin{Highlighting}[]
\FloatTok{0.4157143} \SpecialCharTok{{-}} \FloatTok{0.3766667}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.0390476
\end{verbatim}

(c). Using the \texttt{boot} command with a categorical response

In order to get the bootstrap distribution for the sample difference in proportions, we need to recode the ``response'' variable \texttt{Telephone} to have a 1 indicating a ``yes'' response and 0 indicating a ``no'' response. This is done with an \texttt{ifelse} command:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{credit}\SpecialCharTok{$}\NormalTok{Telephone\_binary }\OtherTok{\textless{}{-}} \FunctionTok{ifelse}\NormalTok{(credit}\SpecialCharTok{$}\NormalTok{Telephone }\SpecialCharTok{==} \StringTok{"yes, registered under the customers name"}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{)}
\FunctionTok{head}\NormalTok{(credit[,}\FunctionTok{c}\NormalTok{(}\StringTok{"Telephone"}\NormalTok{, }\StringTok{"Telephone\_binary"}\NormalTok{)])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
                                 Telephone Telephone_binary
1 yes, registered under the customers name                1
2                                     none                0
3                                     none                0
4                                     none                0
5                                     none                0
6 yes, registered under the customers name                1
\end{verbatim}

which reads ``if \texttt{Telephone} equals \texttt{yes} than assign a \texttt{1}, else assign a 0''. These 0's and 1's are assigned to a variable called \texttt{Telephone\_binary} that is now in your data frame (checked this with the \texttt{View(credit)} command).

Check your work to make sure \texttt{Telephone\_binary} records what you want it to record

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{table}\NormalTok{(credit}\SpecialCharTok{$}\NormalTok{Telephone)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

                                    none 
                                     596 
yes, registered under the customers name 
                                     404 
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{table}\NormalTok{(credit}\SpecialCharTok{$}\NormalTok{Telephone\_binary)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

  0   1 
596 404 
\end{verbatim}

The mean of the 0/1 coded variable computes the proportion of ``yes'' responses:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{mean}\NormalTok{(credit}\SpecialCharTok{$}\NormalTok{Telephone\_binary)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.404
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{404}\SpecialCharTok{/}\DecValTok{1000}  \CommentTok{\# proportion of yes}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0.404
\end{verbatim}

Note: All examples in your \textbf{Lab Manual} already have this 0/1 recoding done in the lab manual data sets. But I thought you might want to learn how to do this recoding in case you plan to use this command with other, non-lab manual data sets!

(d). 95\% confidence interval for the difference in phone

We can now use the 0/1 version of telephone in the \texttt{boot} command (like example 1) to compute a 95\% bootstrap confidence interval for the difference in the population proportion of good loans and bad loans that have a phone number.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{boot}\NormalTok{(Telephone\_binary }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Good.Loan, }\AttributeTok{data=}\NormalTok{credit)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

    ** Bootstrap interval for difference of statistic

 Observed difference of statistic:  BadLoan - GoodLoan =  -0.03905 
 Mean of bootstrap distribution: -0.03963 
 Standard error of bootstrap distribution: 0.03359 

 Bootstrap percentile interval
       2.5%       97.5% 
-0.10523810  0.02619048 

        *--------------*
\end{verbatim}

\includegraphics[width=1\linewidth]{Class_Activity_8_files/figure-latex/unnamed-chunk-20-1}

\textbf{Even though the language used in the output says ``statistic'' we are computing a difference in ``proportions''!!}

\begin{itemize}
\tightlist
\item
  Give the 95\% confidence interval for the difference in the population proportion of bad loans and good loans that have a phone number using the percentile method
\end{itemize}

Click for answer

\emph{Answer:} The percentile interval for Bad \(-\) Good is -0.105 to 0.028.

\vspace*{.3in}

\begin{itemize}
\tightlist
\item
  Give the 95\% confidence interval for the difference in the population proportion of bad loans and good loans that have a phone number using the bootstrap SE. Is it similar to the CI from the percentile method?
\end{itemize}

Click for answer

\emph{Answer:} The SE method gives an interval for Bad \(-\) Good of -0.107 to 0.028 which is very similar to the percentile interval.

\begin{Shaded}
\begin{Highlighting}[]
\SpecialCharTok{{-}}\FloatTok{0.03905} \SpecialCharTok{{-}} \DecValTok{2}\SpecialCharTok{*} \FloatTok{0.03373} 
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] -0.10651
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\SpecialCharTok{{-}}\FloatTok{0.03905} \SpecialCharTok{+} \DecValTok{2}\SpecialCharTok{*} \FloatTok{0.}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] -0.03905
\end{verbatim}

\vspace*{.2in}

(e). Interpret

Interpret your percentile interval in context using a directional statement. Does this interval suggest that there is a difference in the percentage of bad loan holders who provided a phone number comapared to the percetage of good loan holders who gave a number? Explain.

Click for answer

\emph{Answer:} We are 95\% confident that the percentage of good loan accounts with a phone number is anywhere from 10.7 percentage points higher than to 2.8 percentage points less than the percentage of bad loans with a phone number.

\hypertarget{part-basics-r}{%
\chapter{(PART*) Basics R}\label{part-basics-r}}

\hypertarget{what-is-r}{%
\chapter{What is R?}\label{what-is-r}}

R is a free and open source statistical programming language that facilitates statistical computation. There are a myriad of application that can be done in R, thanks to a huge online support community and dedicated packages. However, R has no graphical user interface and it has to be run by typing commands into a text interface.

\hypertarget{what-is-rstudio}{%
\section{What is RStudio?}\label{what-is-rstudio}}

RStudio provides graphical interface to R! You can think of RStudio as a graphical front-end to R that that provides extra functionality. The use of the R programming language with the RStudio interface is an essential component of this course.

\hypertarget{r-studio-server}{%
\section{R Studio Server}\label{r-studio-server}}

The quickest way to get started is to go to \url{https://maize.mathcs.carleton.edu}, which opens an R Studio window in your web browser. Once logged in, I recommend that you do the following:

\begin{itemize}
\tightlist
\item
  Step 1: Create a folder for this course where you can save all of your work. In the Files window, click on New Folder.
\item
  Step 2: Click on Tools -\textgreater{} Global Options -\textgreater{} R Markdown. Then uncheck the box that says ``Show output inline\ldots{}''
\end{itemize}

(It is also possible to download RStudio on your own laptop. Instructions may be found at the end of this document.)

\hypertarget{r-markdown-basics}{%
\section{R Markdown Basics}\label{r-markdown-basics}}

An R Markdown file (.Rmd file) combines R commands and written analyses, which are `knit' together into an HTML, PDF, or Microsoft Word document.

An R Markdown file contains three essential elements:

\begin{itemize}
\item
  Header: The header (top) of the file contains information like the document title, author, date and your preferred output format (pdf\_document, word\_document, or html\_document).
\item
  Written analysis: You write up your analysis after the header and embed R code where needed. The online help below shows ways to add formatting details like bold words, lists, section labels, etc to your final pdf/word/html document. For example, adding ** before and after a word will bold that word in your compiled document.
\item
  R chunks: R chunks contain the R commands that you want evaluated. You embed these chunks within your written analysis and they are evaluated when you compile the document.
\end{itemize}

\hypertarget{r-markdown-example}{%
\subsection{R Markdown example:}\label{r-markdown-example}}

\begin{itemize}
\tightlist
\item
  Simple R Markdown example

  \begin{itemize}
  \tightlist
  \item
    compiled pdf
  \end{itemize}
\end{itemize}

The following handouts, written by Prof Katie St Clair, contain useful information for making the figured and tables in your compiled documents look nice:

\begin{itemize}
\tightlist
\item
  Graph Formatting: Markdown .Rmd file and pdf
\item
  Table Formatting: Markdown .Rmd file and pdf
\end{itemize}

\hypertarget{installing-rrstudio-not-needed-if-you-are-using-the-maize-server}{%
\section{Installing R/RStudio (not needed if you are using the maize server)}\label{installing-rrstudio-not-needed-if-you-are-using-the-maize-server}}

\begin{itemize}
\tightlist
\item
  Download the latest version of R:

  \begin{itemize}
  \tightlist
  \item
    Windows: \url{http://cran.r-project.org/bin/windows/base/}
  \item
    Mac: \url{http://cran.r-project.org/bin/macosx/}
  \end{itemize}
\item
  Download the free Rstudio desktop version (Windows or Mac): \url{https://www.rstudio.com/products/rstudio/download/}
\end{itemize}

Use the default download and install options for each.

\hypertarget{install-latex-for-knitting-r-markdown-documents-to-pdf}{%
\section{Install LaTeX (for knitting R Markdown documents to PDF):}\label{install-latex-for-knitting-r-markdown-documents-to-pdf}}

If you want to compile R Markdown to .pdf files, you also need a LaTeX distribution (Note: this is not necessary if you choose to compile as a Word document.) Click \href{http://www.miktex.org/}{instructions for Windows} or \href{https://tug.org/mactex/}{instructions for Mac}, depending on your operating system to complete the installation.

\hypertarget{updating-rrstudio-not-needed-if-you-are-using-the-maize-server}{%
\section{Updating R/RStudio (not needed if you are using the maize server)}\label{updating-rrstudio-not-needed-if-you-are-using-the-maize-server}}

If you have used a local version of R/RStudio before and it is still installed on your machine, then you should make sure that you have the most recent versions of each program.

\begin{itemize}
\item
  To check your version of R, run the command \texttt{getRversion()} and compare your version to the newest version posted on \url{https://cran.r-project.org/}. If you need an update, then install the newer version using the installation directions above.
\item
  In RStudio, check for updates with the menu option \texttt{Help\ \textgreater{}\ Check\ for\ updates}. Follow directions if an update is needed.
\end{itemize}

\hypertarget{instructions}{%
\section{Instructions}\label{instructions}}

If using Rstudio on your computer, using the \textbf{File\textgreater Open File} menu to find and open this .Rmd file.

If using Maize Rstudio from your browser:

\begin{itemize}
\item
  In the Files tab, select \textbf{Upload} and \textbf{Choose File} to find the .Rmd that you downloaded. Click \emph{OK} to upload to your course folder/location in the maize server account.
\item
  Click on the .Rmd file in the appropriate folder to open the file.
\end{itemize}

Extra notes:

\begin{itemize}
\item
  You can run a line of code by placing your cursor in the line of code and clicking \textbf{Run Selected Line(s)}
\item
  You can run an entire chunk by clicking the green triangle on the right side of the code chunk.
\item
  After each small edit or code addition, \textbf{Knit} your Markdown. If you wait until the end to Knit, it will be harder to find errors in your work.
\item
  Format output type: You can use any of pdf\_document, html\_document type, or word\_document type.
\item
  \textbf{Maize users}: You may also need to allow for ``pop-up'' in your web browser when knitting documents.
\end{itemize}

\hypertarget{few-instructions}{%
\section{Few Instructions}\label{few-instructions}}

The default setting in Rstudio when you are running chunks is that the ``output'' (numbers, graphs) are
shown \textbf{inline} within the Markdown Rmd. If you prefer to have your plots appear on the right of the console and not below the chunk, then change the settings as follows:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Select Tools \textgreater{} Global Options.
\item
  Click the R Markdown section and uncheck (if needed) the option Show output inline for all
  R Markdown documents.
\item
  Click OK.
\end{enumerate}

Now try running R chunks in the .Rmd file to see the difference. You can recheck this box if you prefer
the default setting.

\hypertarget{r-markdown}{%
\chapter{R Markdown}\label{r-markdown}}

This is a R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see \url{http://rmarkdown.rstudio.com}.

You can use asterisk mark to provide emphasis, such as \texttt{*italics*\ or\ **bold**}.

You can create lists with a dash:

\begin{Shaded}
\begin{Highlighting}[]
\SpecialCharTok{{-}}\NormalTok{ Item }\DecValTok{1}
\SpecialCharTok{{-}}\NormalTok{ Item }\DecValTok{2}
\SpecialCharTok{{-}}\NormalTok{ Item }\DecValTok{3}
  \SpecialCharTok{+}\NormalTok{ Subitem }\DecValTok{1}
\SpecialCharTok{*}\NormalTok{ Item }\DecValTok{4}
\end{Highlighting}
\end{Shaded}

\begin{itemize}
\tightlist
\item
  Item 1
\item
  Item 2
\item
  Item 3

  \begin{itemize}
  \tightlist
  \item
    Subitem 1
  \end{itemize}
\item
  Item 4
\end{itemize}

You can embed Latex equations in-line, \(\frac{1}{n} \sum_{i=1}^{n} x_{i}\) or in a new line as

\[\text{Var}(X) = \frac{1}{n-1}\sum_{i-1}^{n} (x_{i} - \bar{x})^2 \]
\#\# Embed an R code chunk:

Use

\begin{verbatim}
```r
Use back ticks to 
create a block of code
```
\end{verbatim}

to produce:

\begin{verbatim}
Use back ticks to 
create a block of code
\end{verbatim}

You can also evaluate and display the results of R code. Each tasks can be accomplished in a suitably labeled chunk like the following:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{summary}\NormalTok{(cars)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
     speed           dist       
 Min.   : 4.0   Min.   :  2.00  
 1st Qu.:12.0   1st Qu.: 26.00  
 Median :15.0   Median : 36.00  
 Mean   :15.4   Mean   : 42.98  
 3rd Qu.:19.0   3rd Qu.: 56.00  
 Max.   :25.0   Max.   :120.00  
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fit }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(dist }\SpecialCharTok{\textasciitilde{}}\NormalTok{ speed, }\AttributeTok{data =}\NormalTok{ cars)}
\NormalTok{fit}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

Call:
lm(formula = dist ~ speed, data = cars)

Coefficients:
(Intercept)        speed  
    -17.579        3.932  
\end{verbatim}

\hypertarget{including-plots}{%
\section{Including Plots}\label{including-plots}}

You can also embed plots. See Figure \ref{fig:pie} for example:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar =} \FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{))}
\FunctionTok{pie}\NormalTok{(}
  \FunctionTok{c}\NormalTok{(}\DecValTok{280}\NormalTok{, }\DecValTok{60}\NormalTok{, }\DecValTok{20}\NormalTok{),}
  \FunctionTok{c}\NormalTok{(}\StringTok{\textquotesingle{}Sky\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Sunny side of pyramid\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Shady side of pyramid\textquotesingle{}}\NormalTok{),}
  \AttributeTok{col =} \FunctionTok{c}\NormalTok{(}\StringTok{\textquotesingle{}\#0292D8\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}\#F7EA39\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}\#C4B632\textquotesingle{}}\NormalTok{),}
  \AttributeTok{init.angle =} \SpecialCharTok{{-}}\DecValTok{50}\NormalTok{, }\AttributeTok{border =} \ConstantTok{NA}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{figure}
\includegraphics[width=1\linewidth]{Rmarkdown_files/figure-latex/pie-1} \caption{A fancy pie chart.}\label{fig:pie}
\end{figure}

(Credit: Yihui Xie)

\hypertarget{read-in-data-files}{%
\section{Read in data files}\label{read-in-data-files}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{simple\_data }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"https://deepbas.io/data/simple{-}1.dat"}\NormalTok{, )}
\FunctionTok{summary}\NormalTok{(simple\_data) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
   initials            state                age      
 Length:3           Length:3           Min.   :45.0  
 Class :character   Class :character   1st Qu.:47.5  
 Mode  :character   Mode  :character   Median :50.0  
                                       Mean   :52.0  
                                       3rd Qu.:55.5  
                                       Max.   :61.0  
     time          
 Length:3          
 Class :character  
 Mode  :character  
                   
                   
                   
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{knitr}\SpecialCharTok{::}\FunctionTok{kable}\NormalTok{(simple\_data)}
\end{Highlighting}
\end{Shaded}

\begin{tabular}{l|l|r|l}
\hline
initials & state & age & time\\
\hline
vib & MA & 61 & 6:01\\
\hline
adc & TX & 45 & 5:45\\
\hline
kme & CT & 50 & 4:19\\
\hline
\end{tabular}

\hypertarget{hide-the-code}{%
\section{Hide the code}\label{hide-the-code}}

If we enter the \texttt{echo\ =\ FALSE} option in the R chunk (see the .Rmd file). This prevents the R code from being printed to your document; you just see the results.

\begin{tabular}{l|l|r|l}
\hline
initials & state & age & time\\
\hline
vib & MA & 61 & 6:01\\
\hline
adc & TX & 45 & 5:45\\
\hline
kme & CT & 50 & 4:19\\
\hline
\end{tabular}

  \bibliography{book.bib,packages.bib}

\end{document}

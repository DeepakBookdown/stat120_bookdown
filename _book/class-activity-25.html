<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 32 Class Activity 25 | Stat 120</title>
<meta name="author" content="Deepak Bastola">
<meta name="description" content="# load necessary libraries library(readr) # read_csv library(dplyr) # data manipulation library(forcats) # categorical variables library(janitor) # clean_names library(tidyr) # drop_na...">
<meta name="generator" content="bookdown 0.33 with bs4_book()">
<meta property="og:title" content="Chapter 32 Class Activity 25 | Stat 120">
<meta property="og:type" content="book">
<meta property="og:description" content="# load necessary libraries library(readr) # read_csv library(dplyr) # data manipulation library(forcats) # categorical variables library(janitor) # clean_names library(tidyr) # drop_na...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 32 Class Activity 25 | Stat 120">
<meta name="twitter:description" content="# load necessary libraries library(readr) # read_csv library(dplyr) # data manipulation library(forcats) # categorical variables library(janitor) # clean_names library(tidyr) # drop_na...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.2/transition.js"></script><script src="libs/bs3compat-0.4.2/tabs.js"></script><script src="libs/bs3compat-0.4.2/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Stat 120</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Introduction to Statistics</a></li>
<li class="book-part">Basics R</li>
<li><a class="" href="what-is-r.html"><span class="header-section-number">1</span> What is R?</a></li>
<li><a class="" href="r-markdown-basics.html"><span class="header-section-number">2</span> R Markdown Basics</a></li>
<li><a class="" href="helpful-r-codes.html"><span class="header-section-number">3</span> Helpful R codes</a></li>
<li><a class="" href="homework-guidelines.html"><span class="header-section-number">4</span> Homework Guidelines</a></li>
<li><a class="" href="graph-formatting.html"><span class="header-section-number">5</span> Graph Formatting</a></li>
<li><a class="" href="table-formatting.html"><span class="header-section-number">6</span> Table Formatting</a></li>
<li><a class="" href="report-guidelines.html"><span class="header-section-number">7</span> Report Guidelines</a></li>
<li class="book-part">Class Activity</li>
<li><a class="" href="class-activity-1.html"><span class="header-section-number">8</span> Class Activity 1</a></li>
<li><a class="" href="class-activity-2.html"><span class="header-section-number">9</span> Class Activity 2</a></li>
<li><a class="" href="class-activity-3.html"><span class="header-section-number">10</span> Class Activity 3</a></li>
<li><a class="" href="class-activity-4.html"><span class="header-section-number">11</span> Class Activity 4</a></li>
<li><a class="" href="class-activity-5.html"><span class="header-section-number">12</span> Class Activity 5</a></li>
<li><a class="" href="class-activity-6.html"><span class="header-section-number">13</span> Class Activity 6</a></li>
<li><a class="" href="class-activity-7.html"><span class="header-section-number">14</span> Class Activity 7</a></li>
<li><a class="" href="class-activity-8.html"><span class="header-section-number">15</span> Class Activity 8</a></li>
<li><a class="" href="class-activity-9.html"><span class="header-section-number">16</span> Class Activity 9</a></li>
<li><a class="" href="class-activity-10.html"><span class="header-section-number">17</span> Class Activity 10</a></li>
<li><a class="" href="class-activity-11.html"><span class="header-section-number">18</span> Class Activity 11</a></li>
<li><a class="" href="class-activity-12.html"><span class="header-section-number">19</span> Class Activity 12</a></li>
<li><a class="" href="class-activity-13.html"><span class="header-section-number">20</span> Class Activity 13</a></li>
<li><a class="" href="class-activity-14.html"><span class="header-section-number">21</span> Class Activity 14</a></li>
<li><a class="" href="class-activity-15.html"><span class="header-section-number">22</span> Class Activity 15</a></li>
<li><a class="" href="class-activity-16.html"><span class="header-section-number">23</span> Class Activity 16</a></li>
<li><a class="" href="class-activity-17.html"><span class="header-section-number">24</span> Class Activity 17</a></li>
<li><a class="" href="class-activity-18.html"><span class="header-section-number">25</span> Class Activity 18</a></li>
<li><a class="" href="class-activity-19.html"><span class="header-section-number">26</span> Class Activity 19</a></li>
<li><a class="" href="class-activity-20.html"><span class="header-section-number">27</span> Class Activity 20</a></li>
<li><a class="" href="class-activity-21.html"><span class="header-section-number">28</span> Class Activity 21</a></li>
<li><a class="" href="class-activity-22.html"><span class="header-section-number">29</span> Class Activity 22</a></li>
<li><a class="" href="class-activity-23.html"><span class="header-section-number">30</span> Class Activity 23</a></li>
<li><a class="" href="class-activity-24.html"><span class="header-section-number">31</span> Class Activity 24</a></li>
<li><a class="active" href="class-activity-25.html"><span class="header-section-number">32</span> Class Activity 25</a></li>
<li><a class="" href="class-activity-25-1.html"><span class="header-section-number">33</span> Class Activity 25</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/rstudio/bookdown-demo">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="class-activity-25" class="section level1" number="32">
<h1>
<span class="header-section-number">32</span> Class Activity 25<a class="anchor" aria-label="anchor" href="#class-activity-25"><i class="fas fa-link"></i></a>
</h1>
<div class="sourceCode" id="cb520"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load necessary libraries</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org">readr</a></span><span class="op">)</span> <span class="co"># read_csv</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span> <span class="co"># data manipulation</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://forcats.tidyverse.org/">forcats</a></span><span class="op">)</span> <span class="co"># categorical variables</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sfirke/janitor">janitor</a></span><span class="op">)</span> <span class="co"># clean_names</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org">tidyr</a></span><span class="op">)</span> <span class="co"># drop_na</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span> <span class="co"># functions form tidy ecosystem</span></span></code></pre></div>
<div id="linear-regression-analysis-exploring-the-relationship-between-average-mathematics-gpa-and-length-of-study-in-mathematics" class="section level2" number="32.1">
<h2>
<span class="header-section-number">32.1</span> Linear Regression Analysis: Exploring the Relationship between Average Mathematics GPA and Length of Study in Mathematics<a class="anchor" aria-label="anchor" href="#linear-regression-analysis-exploring-the-relationship-between-average-mathematics-gpa-and-length-of-study-in-mathematics"><i class="fas fa-link"></i></a>
</h2>
<p>This class activity aims to guide you through a data analysis project involving a school score dataset. You will learn how to load a dataset, inspect its contents, manipulate and clean the data, perform exploratory analysis, and apply linear regression to identify relationships. Towards the end, you will deal with outliers and visualize data to comprehend the results better.</p>
<div id="step-1-load-and-inspect-the-data" class="section level3" number="32.1.1">
<h3>
<span class="header-section-number">32.1.1</span> Step 1: Load and Inspect the Data<a class="anchor" aria-label="anchor" href="#step-1-load-and-inspect-the-data"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb521"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Task: Load the school_scores.csv data file from your local directory</span></span>
<span><span class="va">school_scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">"~/Desktop/Insync/STAT120_Spring23/class_activities/data/school_scores.csv"</span><span class="op">)</span> </span></code></pre></div>
<div class="sourceCode" id="cb522"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Task: Use the glimpse() function to view the structure of your data.</span></span>
<span><span class="co"># glimpse(school_scores)</span></span></code></pre></div>
</div>
<div id="step-2-data-cleaning" class="section level3" number="32.1.2">
<h3>
<span class="header-section-number">32.1.2</span> Step 2: Data Cleaning<a class="anchor" aria-label="anchor" href="#step-2-data-cleaning"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb523"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Task: Use janitor's clean_names() function to standardize column names, </span></span>
<span><span class="co"># and tidyr's drop_na() to remove missing values.</span></span>
<span><span class="va">school_scores_clean</span> <span class="op">&lt;-</span> <span class="va">school_scores</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/janitor/man/clean_names.html">clean_names</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="step-3-data-manipulation" class="section level3" number="32.1.3">
<h3>
<span class="header-section-number">32.1.3</span> Step 3: Data Manipulation<a class="anchor" aria-label="anchor" href="#step-3-data-manipulation"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb524"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Task: Select relevant variables from the dataset for further analysis.</span></span>
<span><span class="va">school_new</span> <span class="op">&lt;-</span> <span class="va">school_scores_clean</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">year</span>, </span>
<span>                                             <span class="va">state_name</span>, </span>
<span>                                             <span class="va">total_math</span>, </span>
<span>                                             <span class="va">total_verbal</span>, </span>
<span>                                             <span class="va">academic_subjects_mathematics_average_gpa</span>, </span>
<span>                                             <span class="va">academic_subjects_mathematics_average_years</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb525"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Task: Create a new categorical variable named 'GPA' from </span></span>
<span><span class="co"># the 'academic_subjects_mathematics_average_gpa' variable.</span></span>
<span><span class="va">school_final</span> <span class="op">&lt;-</span> <span class="va">school_new</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>GPA <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span><span class="op">(</span><span class="va">academic_subjects_mathematics_average_gpa</span> <span class="op">&lt;</span> <span class="fl">3</span> <span class="op">~</span> <span class="st">"low"</span>,</span>
<span>                         <span class="va">academic_subjects_mathematics_average_gpa</span> <span class="op">&gt;=</span> <span class="fl">3.0</span> <span class="op">&amp;</span> <span class="va">academic_subjects_mathematics_average_gpa</span> <span class="op">&lt;</span> <span class="fl">3.25</span> <span class="op">~</span> <span class="st">"satisfactory"</span>,</span>
<span>                         <span class="va">academic_subjects_mathematics_average_gpa</span> <span class="op">&gt;=</span> <span class="fl">3.25</span> <span class="op">&amp;</span> <span class="va">academic_subjects_mathematics_average_gpa</span> <span class="op">&lt;</span> <span class="fl">3.5</span> <span class="op">~</span> <span class="st">"good"</span>,</span>
<span>                         <span class="va">academic_subjects_mathematics_average_gpa</span> <span class="op">&gt;=</span> <span class="fl">3.5</span> <span class="op">~</span> <span class="st">"excellent"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb526"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Task: Convert the new GPA variable into a factor variable.</span></span>
<span><span class="va">school_final</span> <span class="op">&lt;-</span> <span class="va">school_final</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>GPA <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">GPA</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb527"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Task: Collapse the GPA variable levels into two broad categories.</span></span>
<span><span class="va">school_final</span> <span class="op">&lt;-</span> <span class="va">school_final</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>collapsed_GPA <span class="op">=</span> <span class="fu">forcats</span><span class="fu">::</span><span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_collapse.html">fct_collapse</a></span><span class="op">(</span><span class="va">GPA</span>,</span>
<span>                                               Low <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"low"</span>, <span class="st">"satisfactory"</span><span class="op">)</span>,</span>
<span>                                               High <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"good"</span>, <span class="st">"excellent"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="step-4-data-analysis---linear-regression" class="section level3" number="32.1.4">
<h3>
<span class="header-section-number">32.1.4</span> Step 4: Data Analysis - Linear Regression<a class="anchor" aria-label="anchor" href="#step-4-data-analysis---linear-regression"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb528"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fit a linear model</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">school_final</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">academic_subjects_mathematics_average_years</span>, </span>
<span>                                y <span class="op">=</span> <span class="va">academic_subjects_mathematics_average_gpa</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span>, color <span class="op">=</span> <span class="st">"red"</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Average Years Studying Mathematics"</span>, y <span class="op">=</span> <span class="st">"Average Mathematics GPA"</span>, </span>
<span>       title <span class="op">=</span> <span class="st">"Linear Regression of Average Mathematics GPA vs. Length of Study"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="Class_Activity_25_files/figure-html/unnamed-chunk-9-1.png" width="100%"></div>
<div class="sourceCode" id="cb529"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Task: Conduct a linear regression analysis with GPA as the response</span></span>
<span><span class="co"># variable and average years studying mathematics as the predictor.</span></span>
<span><span class="va">GPA.lm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">academic_subjects_mathematics_average_gpa</span> <span class="op">~</span> <span class="va">academic_subjects_mathematics_average_years</span>, </span>
<span>             data <span class="op">=</span> <span class="va">school_final</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">GPA.lm</span><span class="op">)</span></span></code></pre></div>
<pre><code>
Call:
lm(formula = academic_subjects_mathematics_average_gpa ~ academic_subjects_mathematics_average_years, 
    data = school_final)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.33812 -0.10344  0.00478  0.11188  0.38478 

Coefficients:
                                            Estimate
(Intercept)                                  -0.5592
academic_subjects_mathematics_average_years   0.9823
                                            Std. Error
(Intercept)                                     0.1348
academic_subjects_mathematics_average_years     0.0342
                                            t value
(Intercept)                                  -4.147
academic_subjects_mathematics_average_years  28.725
                                            Pr(&gt;|t|)    
(Intercept)                                 3.87e-05 ***
academic_subjects_mathematics_average_years  &lt; 2e-16 ***
---
Signif. codes:  
0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.138 on 575 degrees of freedom
Multiple R-squared:  0.5893,    Adjusted R-squared:  0.5886 
F-statistic: 825.1 on 1 and 575 DF,  p-value: &lt; 2.2e-16</code></pre>
<div class="sourceCode" id="cb531"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Task: Generate a Residual plot to assess the regression model's assumptions.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">GPA.lm</span>, which <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="Class_Activity_25_files/figure-html/unnamed-chunk-11-1.png" width="100%"></div>
<div class="sourceCode" id="cb532"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Task: Generate a QQ plot to visualize the normality of residuals.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">GPA.lm</span>, which <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="Class_Activity_25_files/figure-html/unnamed-chunk-12-1.png" width="100%"></div>
</div>
<div id="step-5-handling-outliers" class="section level3" number="32.1.5">
<h3>
<span class="header-section-number">32.1.5</span> Step 5: Handling Outliers<a class="anchor" aria-label="anchor" href="#step-5-handling-outliers"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb533"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Task: Filter the data to only include certain states.</span></span>
<span><span class="va">school_selected</span> <span class="op">&lt;-</span> <span class="va">school_final</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">state_name</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Alabama"</span>, <span class="st">"California"</span>, <span class="st">"Montana"</span>, <span class="st">"Minnesota"</span>, <span class="st">"Nevada"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb534"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Task: Visualize math SAT scores across GPA categories for the selected</span></span>
<span><span class="co"># states using a boxplot, and identify potential outliers.</span></span>
<span><span class="va">school_selected</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">GPA</span>,y<span class="op">=</span><span class="va">total_math</span>,fill<span class="op">=</span><span class="va">GPA</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span><span class="st">"Boxplot of math SAT accross GPA categories"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Average Math Score"</span>,</span>
<span>       x <span class="op">=</span> <span class="st">"GPA"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun<span class="op">=</span><span class="va">mean</span>, geom<span class="op">=</span><span class="st">"point"</span>, shape<span class="op">=</span><span class="fl">10</span>,</span>
<span>               size<span class="op">=</span><span class="fl">2</span>, color<span class="op">=</span><span class="st">"red"</span>, fill<span class="op">=</span><span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggthemes</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ggthemes/man/theme_tufte.html">theme_tufte</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="Class_Activity_25_files/figure-html/unnamed-chunk-14-1.png" width="100%"></div>
<div class="sourceCode" id="cb535"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Task: Remove outliers based on pre-determined conditions.</span></span>
<span><span class="va">school_selected_no_outlier</span> <span class="op">&lt;-</span>  <span class="va">school_selected</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">GPA</span> <span class="op">==</span> <span class="st">"excellent"</span> <span class="op">&amp;</span> <span class="va">total_math</span> <span class="op">&gt;=</span> <span class="fl">600</span> <span class="op">&amp;</span>  <span class="va">total_math</span> <span class="op">&lt;=</span> <span class="fl">800</span> <span class="op">|</span></span>
<span>           <span class="va">GPA</span> <span class="op">==</span> <span class="st">"good"</span> <span class="op">&amp;</span> <span class="va">total_math</span> <span class="op">&gt;=</span> <span class="fl">525</span>  <span class="op">&amp;</span>  <span class="va">total_math</span> <span class="op">&lt;=</span> <span class="fl">575</span> <span class="op">|</span></span>
<span>           <span class="va">GPA</span> <span class="op">==</span> <span class="st">"satisfactory"</span> <span class="op">&amp;</span> <span class="va">total_math</span> <span class="op">&gt;=</span> <span class="fl">425</span>  <span class="op">&amp;</span>  <span class="va">total_math</span> <span class="op">&lt;=</span> <span class="fl">525</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="step-6-visualizing-cleaned-data" class="section level3" number="32.1.6">
<h3>
<span class="header-section-number">32.1.6</span> Step 6: Visualizing Cleaned Data<a class="anchor" aria-label="anchor" href="#step-6-visualizing-cleaned-data"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb536"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Task: Re-visualize the boxplot of math SAT scores across</span></span>
<span><span class="co"># GPA categories after removing the outliers.</span></span>
<span><span class="va">school_selected_no_outlier</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">GPA</span>,y<span class="op">=</span><span class="va">total_math</span>,fill<span class="op">=</span><span class="va">GPA</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span><span class="st">"Boxplot of math SAT accross GPA categories"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Average Math Score"</span>,</span>
<span>       x <span class="op">=</span> <span class="st">"GPA"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun<span class="op">=</span><span class="va">mean</span>, geom<span class="op">=</span><span class="st">"point"</span>, shape<span class="op">=</span><span class="fl">10</span>,</span>
<span>               size<span class="op">=</span><span class="fl">2</span>, color<span class="op">=</span><span class="st">"red"</span>, fill<span class="op">=</span><span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggthemes</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ggthemes/man/theme_tufte.html">theme_tufte</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="Class_Activity_25_files/figure-html/unnamed-chunk-16-1.png" width="100%"></div>
<p>By the end of this activity, you will have practiced various data analysis techniques, including data manipulation, data cleaning, linear regression, and outlier handling.</p>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="class-activity-24.html"><span class="header-section-number">31</span> Class Activity 24</a></div>
<div class="next"><a href="class-activity-25-1.html"><span class="header-section-number">33</span> Class Activity 25</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#class-activity-25"><span class="header-section-number">32</span> Class Activity 25</a></li>
<li>
<a class="nav-link" href="#linear-regression-analysis-exploring-the-relationship-between-average-mathematics-gpa-and-length-of-study-in-mathematics"><span class="header-section-number">32.1</span> Linear Regression Analysis: Exploring the Relationship between Average Mathematics GPA and Length of Study in Mathematics</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#step-1-load-and-inspect-the-data"><span class="header-section-number">32.1.1</span> Step 1: Load and Inspect the Data</a></li>
<li><a class="nav-link" href="#step-2-data-cleaning"><span class="header-section-number">32.1.2</span> Step 2: Data Cleaning</a></li>
<li><a class="nav-link" href="#step-3-data-manipulation"><span class="header-section-number">32.1.3</span> Step 3: Data Manipulation</a></li>
<li><a class="nav-link" href="#step-4-data-analysis---linear-regression"><span class="header-section-number">32.1.4</span> Step 4: Data Analysis - Linear Regression</a></li>
<li><a class="nav-link" href="#step-5-handling-outliers"><span class="header-section-number">32.1.5</span> Step 5: Handling Outliers</a></li>
<li><a class="nav-link" href="#step-6-visualizing-cleaned-data"><span class="header-section-number">32.1.6</span> Step 6: Visualizing Cleaned Data</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/rstudio/bookdown-demo/blob/master/Class_Activity_25.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/rstudio/bookdown-demo/edit/master/Class_Activity_25.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Stat 120</strong>" was written by Deepak Bastola. It was last built on 2023-05-29.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
